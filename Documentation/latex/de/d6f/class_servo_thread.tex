\hypertarget{class_servo_thread}{}\section{Servo\+Thread Class Reference}
\label{class_servo_thread}\index{Servo\+Thread@{Servo\+Thread}}


The \hyperlink{class_servo_thread}{Servo\+Thread}\textquotesingle{}s class handles the comunication between the delta robot servos and the P\+C.  




{\ttfamily \#include $<$servothread.\+h$>$}



Inheritance diagram for Servo\+Thread\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=150pt]{d1/d76/class_servo_thread__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Servo\+Thread\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=150pt]{d9/d9e/class_servo_thread__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_servo_thread_1_1_servo}{Servo}
\begin{DoxyCompactList}\small\item\em Struct for the \hyperlink{class_a_x12}{A\+X12} servos. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{class_servo_thread_a8d581034e60792a9995d44065f6140a5}{Mode} \{ \hyperlink{class_servo_thread_a8d581034e60792a9995d44065f6140a5a6776147f492a4e0b0bb5ee4fdbc8d086}{controlled}, 
\hyperlink{class_servo_thread_a8d581034e60792a9995d44065f6140a5ae260aa6159d95b94851c96df939b51b3}{manual}
 \}
\begin{DoxyCompactList}\small\item\em Contains the working mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_servo_thread_a3c84cf179d1746091795c60f3a68ce06}{status\+Bar} (Q\+String)
\begin{DoxyCompactList}\small\item\em Emmitted when the status bar must be changed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_servo_thread_af021de9817b11968dd627186e9e05a71}{Servo\+Thread} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\hyperlink{class_servo_thread_a0c7ac1f603a247eac91d9780ad50f5fa}{$\sim$\+Servo\+Thread} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_aaa273318ffee5ba270cdaacba3f263f8}{end} ()
\begin{DoxyCompactList}\small\item\em Ends the execution. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_ae88d0a9c84099ca607c7cf929500fb26}{load} (Q\+String \&file)
\begin{DoxyCompactList}\small\item\em Loads the data from the selected file. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_ae0d4a59954aafbe8cd85f9326e4fcdd0}{pause} ()
\begin{DoxyCompactList}\small\item\em Pauses the execution. \end{DoxyCompactList}\item 
int \hyperlink{class_servo_thread_af2c9e71c33e15937e72703d859cd7147}{get\+Servo\+Baud} ()
\begin{DoxyCompactList}\small\item\em Returns the current servo Baud rate. \end{DoxyCompactList}\item 
Q\+String \hyperlink{class_servo_thread_a3fae25aeac390640192ceb38e32dae40}{get\+Servo\+Port} ()
\begin{DoxyCompactList}\small\item\em Returns the current servo Port. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_afcf834d93f1ac9663d6ebaab820e5f74}{get\+Servo\+Port\+Info} (Q\+String \&port, int \&baud)
\begin{DoxyCompactList}\small\item\em Returns both servo Port and baud Rate. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_a5fd8ef13314428f5ba7646730cc58f1c}{get\+Servos\+Info} (Q\+Vector$<$ \hyperlink{struct_servo_thread_1_1_servo}{Servo} $>$ \&V)
\begin{DoxyCompactList}\small\item\em Returns the servos info, with all its load and current position. \end{DoxyCompactList}\item 
Q\+Vector$<$ \hyperlink{struct_servo_thread_1_1_servo}{Servo} $>$ \hyperlink{class_servo_thread_a3d58189cdeddfb828856f192607f68d2}{get\+Servos\+Info} ()
\begin{DoxyCompactList}\small\item\em Overloaded function to get the servo info. \end{DoxyCompactList}\item 
Q\+Mutex $\ast$ \hyperlink{class_servo_thread_a82d074ab2c445470a6f49e2935bf6a8e}{mutex} ()
\begin{DoxyCompactList}\small\item\em Returns the mutex used in the thread. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_a8497ea56991b620981ce1fbf53d9ebdb}{set\+Data} (Q\+Vector$<$ float $>$ \&a\+V, Q\+Vector$<$ bool $>$ \&buts)
\begin{DoxyCompactList}\small\item\em Adds the loaded data. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_a009d3d1b99007b14fadb49996fac49d6}{set\+Servo\+Baud} (unsigned int baud)
\begin{DoxyCompactList}\small\item\em Sets the servos port baud rate. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_a144e31105019d833f59ca2eba012e638}{set\+Servo\+Port} (Q\+String \&port)
\begin{DoxyCompactList}\small\item\em Sets the servos port. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_a76af3e89d1a8705426584bedb0624909}{set\+Servo\+Port\+Info} (Q\+String \&port, unsigned int baud)
\begin{DoxyCompactList}\small\item\em Sets the servos port info, data and selected port. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_ac3471e5020f5d9babd3f2ff7b3b82aca}{set\+S\+I\+D} (Q\+Vector$<$ int $>$ \&V)
\begin{DoxyCompactList}\small\item\em Sets the servos I\+D. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_a5f32574f843d76deffec45995028389b}{wake\+Up} ()
\begin{DoxyCompactList}\small\item\em Continues program\textquotesingle{}s execution. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_ae5753b8c12768d2115ff900f0ab8e13c}{write} (Q\+String \&file)
\begin{DoxyCompactList}\small\item\em Writes data to the selected directory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{class_servo_thread_aeccce0ac6a969e2ee7cbe91687e2d085}{Version} \{ \hyperlink{class_servo_thread_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{v\+\_\+1\+\_\+0}
 \}
\begin{DoxyCompactList}\small\item\em Enum containing all the save file versions. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_servo_thread_aeeb31b85abf7eb5c701853a6d25e51e0}{run} ()
\begin{DoxyCompactList}\small\item\em Used to create another thread. \end{DoxyCompactList}\item 
void \hyperlink{class_servo_thread_ae17f4b27cae8b171f48fd55d2dc72dbd}{set\+Angles} (double x0, double y0, double z0, double \&theta1, double \&theta2, double \&theta3)
\begin{DoxyCompactList}\small\item\em Used to calculate the servos angles. \end{DoxyCompactList}\item 
double \hyperlink{class_servo_thread_add4637d917a772c4c01a43b5b66da2be}{single\+Angle} (double x0, double y0, double z0)
\begin{DoxyCompactList}\small\item\em Calculates the angle of one servo in the selected position. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const double \hyperlink{class_servo_thread_a86dc58ff23326f939cd6fb610ac90d53}{cos60} = 0.\+5
\begin{DoxyCompactList}\small\item\em Contains the cosinus of 60. \end{DoxyCompactList}\item 
const double \hyperlink{class_servo_thread_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60} = sqrt(3)/2
\begin{DoxyCompactList}\small\item\em Contains the sinus of 60. \end{DoxyCompactList}\item 
const double \hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a} = 17.\+233
\begin{DoxyCompactList}\small\item\em The arm length. \end{DoxyCompactList}\item 
const double \hyperlink{class_servo_thread_a14f03febaa39a60b9bf7ff9b9151060c}{b} = 22.\+648
\begin{DoxyCompactList}\small\item\em The forearm length. \end{DoxyCompactList}\item 
const double \hyperlink{class_servo_thread_a6281142e50115dd8c914c14cfae6f90d}{L1} = 5.\+000
\begin{DoxyCompactList}\small\item\em The base center lenght. \end{DoxyCompactList}\item 
const double \hyperlink{class_servo_thread_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} = 6.\+000
\begin{DoxyCompactList}\small\item\em The platform center length. \end{DoxyCompactList}\item 
Q\+Vector$<$ float $>$ \hyperlink{class_servo_thread_aad24ef961ee39dd35766c725c13b11b7}{\+\_\+axis}
\begin{DoxyCompactList}\small\item\em Contains the axis value. \end{DoxyCompactList}\item 
Q\+Vector$<$ bool $>$ \hyperlink{class_servo_thread_a6f956f7e0f2953e213ff95fb64857ab0}{\+\_\+buts}
\begin{DoxyCompactList}\small\item\em Contains the buttons value. \end{DoxyCompactList}\item 
int \hyperlink{class_servo_thread_a9fccfd415e2e55c8abef7fcc6535af30}{\+\_\+c\+Baud}
\begin{DoxyCompactList}\small\item\em Contains the baud rate used to comunicate with the clamp. \end{DoxyCompactList}\item 
Q\+Wait\+Condition \hyperlink{class_servo_thread_afcb93c09acd7fecf47d92996a297365c}{\+\_\+cond}
\begin{DoxyCompactList}\small\item\em To start and pause the thread. \end{DoxyCompactList}\item 
Q\+String \hyperlink{class_servo_thread_ab52437b31a433c427a6c050f2b1cc959}{\+\_\+c\+Port}
\begin{DoxyCompactList}\small\item\em Contains the selected com port used to comunitate with the clamp. \end{DoxyCompactList}\item 
bool \hyperlink{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\+\_\+d\+Changed}
\begin{DoxyCompactList}\small\item\em True if the data changes. \end{DoxyCompactList}\item 
bool \hyperlink{class_servo_thread_acca9896d1a2d1ef68527e6834f81c76c}{\+\_\+end}
\begin{DoxyCompactList}\small\item\em True when we must end executino. \end{DoxyCompactList}\item 
\hyperlink{class_servo_thread_a8d581034e60792a9995d44065f6140a5}{Mode} \hyperlink{class_servo_thread_acdecea1688594d3ab7386a6db97dd90d}{\+\_\+mod}
\begin{DoxyCompactList}\small\item\em Contains the working mode. \end{DoxyCompactList}\item 
Q\+Mutex \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\+\_\+mutex}
\begin{DoxyCompactList}\small\item\em To prevent memory errors. \end{DoxyCompactList}\item 
bool \hyperlink{class_servo_thread_aaf2ef80e8e43518b75d20a5102970d2e}{\+\_\+pause}
\begin{DoxyCompactList}\small\item\em Pauses the execution of the thread. \end{DoxyCompactList}\item 
int \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\+\_\+s\+Baud}
\begin{DoxyCompactList}\small\item\em Contains the used baud rate to comunicate with the servos. \end{DoxyCompactList}\item 
Q\+Vector$<$ \hyperlink{struct_servo_thread_1_1_servo}{Servo} $>$ \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\+\_\+servos}
\begin{DoxyCompactList}\small\item\em Contains the servos information. \end{DoxyCompactList}\item 
Q\+String \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\+\_\+s\+Port}
\begin{DoxyCompactList}\small\item\em Contains the selected com port used in the comunication with servos. \end{DoxyCompactList}\item 
bool \hyperlink{class_servo_thread_a6e803432db01b10ed975132315280fd3}{\+\_\+s\+Port\+Changed}
\begin{DoxyCompactList}\small\item\em True if the servos port changes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \hyperlink{class_servo_thread}{Servo\+Thread}\textquotesingle{}s class handles the comunication between the delta robot servos and the P\+C. 



\subsection{Member Enumeration Documentation}
\hypertarget{class_servo_thread_a8d581034e60792a9995d44065f6140a5}{}\index{Servo\+Thread@{Servo\+Thread}!Mode@{Mode}}
\index{Mode@{Mode}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{Mode}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Servo\+Thread\+::\+Mode}}\label{class_servo_thread_a8d581034e60792a9995d44065f6140a5}


Contains the working mode. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{controlled@{controlled}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!controlled@{controlled}}\item[{\em 
\hypertarget{class_servo_thread_a8d581034e60792a9995d44065f6140a5a6776147f492a4e0b0bb5ee4fdbc8d086}{}controlled\label{class_servo_thread_a8d581034e60792a9995d44065f6140a5a6776147f492a4e0b0bb5ee4fdbc8d086}
}]\index{manual@{manual}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!manual@{manual}}\item[{\em 
\hypertarget{class_servo_thread_a8d581034e60792a9995d44065f6140a5ae260aa6159d95b94851c96df939b51b3}{}manual\label{class_servo_thread_a8d581034e60792a9995d44065f6140a5ae260aa6159d95b94851c96df939b51b3}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
00042     \{
00043         \hyperlink{class_servo_thread_a8d581034e60792a9995d44065f6140a5a6776147f492a4e0b0bb5ee4fdbc8d086}{controlled},
00044         \hyperlink{class_servo_thread_a8d581034e60792a9995d44065f6140a5ae260aa6159d95b94851c96df939b51b3}{manual}
00045     \};
\end{DoxyCode}
\hypertarget{class_servo_thread_aeccce0ac6a969e2ee7cbe91687e2d085}{}\index{Servo\+Thread@{Servo\+Thread}!Version@{Version}}
\index{Version@{Version}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{Version}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Servo\+Thread\+::\+Version}\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_aeccce0ac6a969e2ee7cbe91687e2d085}


Enum containing all the save file versions. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{v\+\_\+1\+\_\+0@{v\+\_\+1\+\_\+0}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!v\+\_\+1\+\_\+0@{v\+\_\+1\+\_\+0}}\item[{\em 
\hypertarget{class_servo_thread_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{}v\+\_\+1\+\_\+0\label{class_servo_thread_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
00019     \{
00020         \hyperlink{class_servo_thread_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{v\_1\_0}
00021     \};
\end{DoxyCode}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{class_servo_thread_af021de9817b11968dd627186e9e05a71}{}\index{Servo\+Thread@{Servo\+Thread}!Servo\+Thread@{Servo\+Thread}}
\index{Servo\+Thread@{Servo\+Thread}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{Servo\+Thread}]{\setlength{\rightskip}{0pt plus 5cm}Servo\+Thread\+::\+Servo\+Thread (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_servo_thread_af021de9817b11968dd627186e9e05a71}


Default constructor. 


\begin{DoxyCode}
00004                          :
00005     \hyperlink{class_servo_thread_aad24ef961ee39dd35766c725c13b11b7}{\_axis}(XJoystick::AxisCount),
00006     \hyperlink{class_servo_thread_a6f956f7e0f2953e213ff95fb64857ab0}{\_buts}(XJoystick::ButtonCount),
00007     \hyperlink{class_servo_thread_a9fccfd415e2e55c8abef7fcc6535af30}{\_cBaud}(9600),
00008     \hyperlink{class_servo_thread_ab52437b31a433c427a6c050f2b1cc959}{\_cPort}(\textcolor{stringliteral}{"COM3"}),
00009     \hyperlink{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged}(\textcolor{keyword}{false}),
00010     \hyperlink{class_servo_thread_acca9896d1a2d1ef68527e6834f81c76c}{\_end}(\textcolor{keyword}{false}),
00011     \hyperlink{class_servo_thread_acdecea1688594d3ab7386a6db97dd90d}{\_mod}(Mode::manual),
00012     \hyperlink{class_servo_thread_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause}(\textcolor{keyword}{true}),
00013     \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud}(1000000),
00014     \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}(3),
00015     \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort}(\textcolor{stringliteral}{"COM9"}),
00016     \hyperlink{class_servo_thread_a6e803432db01b10ed975132315280fd3}{\_sPortChanged}(\textcolor{keyword}{false})
00017 \{
00018     
00019 \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a0c7ac1f603a247eac91d9780ad50f5fa}{}\index{Servo\+Thread@{Servo\+Thread}!````~Servo\+Thread@{$\sim$\+Servo\+Thread}}
\index{````~Servo\+Thread@{$\sim$\+Servo\+Thread}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{$\sim$\+Servo\+Thread}]{\setlength{\rightskip}{0pt plus 5cm}Servo\+Thread\+::$\sim$\+Servo\+Thread (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_servo_thread_a0c7ac1f603a247eac91d9780ad50f5fa}


Default destructor. 


\begin{DoxyCode}
00022 \{
00023     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00024     \hyperlink{class_servo_thread_acca9896d1a2d1ef68527e6834f81c76c}{\_end} = \textcolor{keyword}{true};
00025     \hyperlink{class_servo_thread_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00026     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00027     
00028     wait();
00029 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\hypertarget{class_servo_thread_aaa273318ffee5ba270cdaacba3f263f8}{}\index{Servo\+Thread@{Servo\+Thread}!end@{end}}
\index{end@{end}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{end}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::end (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_aaa273318ffee5ba270cdaacba3f263f8}


Ends the execution. 


\begin{DoxyCode}
00055     \{
00056         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00057         \hyperlink{class_servo_thread_acca9896d1a2d1ef68527e6834f81c76c}{\_end} = \textcolor{keyword}{true};
00058         \hyperlink{class_servo_thread_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00059         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00060         
00061         wait();
00062     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_af2c9e71c33e15937e72703d859cd7147}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servo\+Baud@{get\+Servo\+Baud}}
\index{get\+Servo\+Baud@{get\+Servo\+Baud}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{get\+Servo\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::get\+Servo\+Baud (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_af2c9e71c33e15937e72703d859cd7147}


Returns the current servo Baud rate. 


\begin{DoxyCode}
00077     \{
00078         QMutexLocker mL(&\hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00079         \textcolor{keywordflow}{return} \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00080     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a3fae25aeac390640192ceb38e32dae40}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servo\+Port@{get\+Servo\+Port}}
\index{get\+Servo\+Port@{get\+Servo\+Port}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{get\+Servo\+Port}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Servo\+Thread\+::get\+Servo\+Port (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a3fae25aeac390640192ceb38e32dae40}


Returns the current servo Port. 


\begin{DoxyCode}
00084     \{
00085         QMutexLocker mL(&\hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00086         \textcolor{keywordflow}{return} \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00087     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_afcf834d93f1ac9663d6ebaab820e5f74}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servo\+Port\+Info@{get\+Servo\+Port\+Info}}
\index{get\+Servo\+Port\+Info@{get\+Servo\+Port\+Info}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{get\+Servo\+Port\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::get\+Servo\+Port\+Info (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{port, }
\item[{int \&}]{baud}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_afcf834d93f1ac9663d6ebaab820e5f74}


Returns both servo Port and baud Rate. 


\begin{DoxyCode}
00091     \{
00092         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00093         baud = \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00094         port = \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00095         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00096     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a5fd8ef13314428f5ba7646730cc58f1c}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servos\+Info@{get\+Servos\+Info}}
\index{get\+Servos\+Info@{get\+Servos\+Info}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{get\+Servos\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::get\+Servos\+Info (
\begin{DoxyParamCaption}
\item[{Q\+Vector$<$ {\bf Servo} $>$ \&}]{V}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a5fd8ef13314428f5ba7646730cc58f1c}


Returns the servos info, with all its load and current position. 


\begin{DoxyParams}{Parameters}
{\em V} & \hyperlink{struct_servo_thread_1_1_servo}{Servo} vector to store information \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00102     \{
00103         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00104         V = \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos};
00105         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00106     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a3d58189cdeddfb828856f192607f68d2}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servos\+Info@{get\+Servos\+Info}}
\index{get\+Servos\+Info@{get\+Servos\+Info}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{get\+Servos\+Info}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<${\bf Servo}$>$ Servo\+Thread\+::get\+Servos\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a3d58189cdeddfb828856f192607f68d2}


Overloaded function to get the servo info. 


\begin{DoxyCode}
00110     \{
00111         QMutexLocker mL(&\hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00112         \textcolor{keywordflow}{return} \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos};
00113     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_ae88d0a9c84099ca607c7cf929500fb26}{}\index{Servo\+Thread@{Servo\+Thread}!load@{load}}
\index{load@{load}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{load}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::load (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{file}
\end{DoxyParamCaption}
)}\label{class_servo_thread_ae88d0a9c84099ca607c7cf929500fb26}


Loads the data from the selected file. 


\begin{DoxyCode}
00032 \{
00033     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00034     QFile f(file);
00035     f.open(QIODevice::ReadOnly);
00036     QDataStream df(&f);
00037     
00038     \textcolor{keywordtype}{int} ver;
00039     df >> ver;
00040     \textcolor{keywordflow}{if} (ver == Version::v\_1\_0) \{
00041         \textcolor{keywordtype}{int} n;
00042         df >> \hyperlink{class_servo_thread_a9fccfd415e2e55c8abef7fcc6535af30}{\_cBaud} >> \hyperlink{class_servo_thread_ab52437b31a433c427a6c050f2b1cc959}{\_cPort} >> \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} >> \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} >> n;
00043         
00044         \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}.resize(n);
00045         \textcolor{keywordflow}{for} (Servo &s : \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}) df >> s.ID;
00046         \hyperlink{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00047     \}
00048     \textcolor{keywordflow}{else} qWarning() << \textcolor{stringliteral}{"Not a valid file"};    
00049     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00050 \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a82d074ab2c445470a6f49e2935bf6a8e}{}\index{Servo\+Thread@{Servo\+Thread}!mutex@{mutex}}
\index{mutex@{mutex}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{mutex}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Mutex$\ast$ Servo\+Thread\+::mutex (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a82d074ab2c445470a6f49e2935bf6a8e}


Returns the mutex used in the thread. 


\begin{DoxyCode}
00116 \{ \textcolor{keywordflow}{return} &\hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}; \}
\end{DoxyCode}
\hypertarget{class_servo_thread_ae0d4a59954aafbe8cd85f9326e4fcdd0}{}\index{Servo\+Thread@{Servo\+Thread}!pause@{pause}}
\index{pause@{pause}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{pause}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::pause (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_ae0d4a59954aafbe8cd85f9326e4fcdd0}


Pauses the execution. 


\begin{DoxyCode}
00069     \{
00070         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00071         \hyperlink{class_servo_thread_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause} = \textcolor{keyword}{true};
00072         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00073     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_aeeb31b85abf7eb5c701853a6d25e51e0}{}\index{Servo\+Thread@{Servo\+Thread}!run@{run}}
\index{run@{run}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{run}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_aeeb31b85abf7eb5c701853a6d25e51e0}


Used to create another thread. 


\begin{DoxyCode}
00078 \{
00079     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00080     \textcolor{keywordtype}{int} sBaud = \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00081     QString sPort = \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00082     
00083     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00084     \hyperlink{classdynamixel}{dynamixel} dxl(sPort, sBaud);
00085     QVector< AX12 > (\hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}.size(), &dxl);
00086     
00087     \textcolor{keywordflow}{while} (not \hyperlink{class_servo_thread_acca9896d1a2d1ef68527e6834f81c76c}{\_end}) \{
00088         
00089         msleep(10);
00090         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00091         \textcolor{keywordflow}{if} (not \_end and \hyperlink{class_servo_thread_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause}) \{
00092             dxl.terminate();
00093             \hyperlink{class_servo_thread_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wait(&\hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00094             emit \hyperlink{class_servo_thread_a3c84cf179d1746091795c60f3a68ce06}{statusBar}(\textcolor{stringliteral}{"Changed"});
00095             dxl.initialize(sPort, sBaud);
00096         \}        
00097         \textcolor{keywordflow}{if} (\hyperlink{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged}) \{
00098             \textcolor{keywordflow}{if} (sPort != \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort}) \{
00099                 sPort = \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00100                 sBaud = \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00101                 dxl.terminate();
00102                 dxl.initialize(sPort, sBaud);
00103             \}   
00104         \}
00105         \hyperlink{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{false};
00106         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00107     \}
00108     
00109     dxl.terminate();
00110     exit(0);
00111 \}
\end{DoxyCode}
\hypertarget{class_servo_thread_ae17f4b27cae8b171f48fd55d2dc72dbd}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Angles@{set\+Angles}}
\index{set\+Angles@{set\+Angles}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{set\+Angles}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Angles (
\begin{DoxyParamCaption}
\item[{double}]{x0, }
\item[{double}]{y0, }
\item[{double}]{z0, }
\item[{double \&}]{theta1, }
\item[{double \&}]{theta2, }
\item[{double \&}]{theta3}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_ae17f4b27cae8b171f48fd55d2dc72dbd}


Used to calculate the servos angles. 


\begin{DoxyCode}
00115 \{    
00116     \textcolor{keywordtype}{double} x1 = x0 + \hyperlink{class_servo_thread_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} - \hyperlink{class_servo_thread_a6281142e50115dd8c914c14cfae6f90d}{L1};
00117     \textcolor{keywordtype}{double} y1 = y0;
00118     \textcolor{keywordtype}{double} z1 = z0;
00119     theta1 = \hyperlink{class_servo_thread_add4637d917a772c4c01a43b5b66da2be}{singleAngle}(x1,y1,z1);
00120     
00121     \textcolor{keywordtype}{double} x2 = z0*\hyperlink{class_servo_thread_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60} - x0*\hyperlink{class_servo_thread_a86dc58ff23326f939cd6fb610ac90d53}{cos60} + \hyperlink{class_servo_thread_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} - \hyperlink{class_servo_thread_a6281142e50115dd8c914c14cfae6f90d}{L1};
00122     \textcolor{keywordtype}{double} y2 = y0;
00123     \textcolor{keywordtype}{double} z2 = -z0*\hyperlink{class_servo_thread_a86dc58ff23326f939cd6fb610ac90d53}{cos60} - x0*\hyperlink{class_servo_thread_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60};
00124     theta2 = \hyperlink{class_servo_thread_add4637d917a772c4c01a43b5b66da2be}{singleAngle}(x2,y2,z2);
00125     
00126     \textcolor{keywordtype}{double} x3 = -z0*sin60 - x0*\hyperlink{class_servo_thread_a86dc58ff23326f939cd6fb610ac90d53}{cos60} + \hyperlink{class_servo_thread_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} - \hyperlink{class_servo_thread_a6281142e50115dd8c914c14cfae6f90d}{L1};
00127     \textcolor{keywordtype}{double} y3 = y0;
00128     \textcolor{keywordtype}{double} z3 = -z0*\hyperlink{class_servo_thread_a86dc58ff23326f939cd6fb610ac90d53}{cos60} + x0*\hyperlink{class_servo_thread_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60};
00129     theta3 = \hyperlink{class_servo_thread_add4637d917a772c4c01a43b5b66da2be}{singleAngle}(x3,y3,z3);
00130 \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a8497ea56991b620981ce1fbf53d9ebdb}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Data@{set\+Data}}
\index{set\+Data@{set\+Data}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{set\+Data}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Data (
\begin{DoxyParamCaption}
\item[{Q\+Vector$<$ float $>$ \&}]{a\+V, }
\item[{Q\+Vector$<$ bool $>$ \&}]{buts}
\end{DoxyParamCaption}
)}\label{class_servo_thread_a8497ea56991b620981ce1fbf53d9ebdb}


Adds the loaded data. 


\begin{DoxyParams}{Parameters}
{\em a\+V} & Contains the axis values \\
\hline
{\em buts} & Contains the buttons values \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00053 \{
00054     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00055     \textcolor{comment}{// Copying the joystick values}
00056     \hyperlink{class_servo_thread_aad24ef961ee39dd35766c725c13b11b7}{\_axis} = aV;
00057     \hyperlink{class_servo_thread_a6f956f7e0f2953e213ff95fb64857ab0}{\_buts} = buts;
00058     \hyperlink{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00059     
00060     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00061 \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a009d3d1b99007b14fadb49996fac49d6}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Servo\+Baud@{set\+Servo\+Baud}}
\index{set\+Servo\+Baud@{set\+Servo\+Baud}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{set\+Servo\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Servo\+Baud (
\begin{DoxyParamCaption}
\item[{unsigned int}]{baud}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a009d3d1b99007b14fadb49996fac49d6}


Sets the servos port baud rate. 


\begin{DoxyParams}{Parameters}
{\em baud} & Positive number containing the baud rate \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00126     \{
00127         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00128         \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} = baud;
00129         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00130     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a144e31105019d833f59ca2eba012e638}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Servo\+Port@{set\+Servo\+Port}}
\index{set\+Servo\+Port@{set\+Servo\+Port}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{set\+Servo\+Port}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Servo\+Port (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{port}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a144e31105019d833f59ca2eba012e638}


Sets the servos port. 


\begin{DoxyParams}{Parameters}
{\em port} & String containing the port name \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00135     \{
00136         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00137         \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} = port;
00138         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00139     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a76af3e89d1a8705426584bedb0624909}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Servo\+Port\+Info@{set\+Servo\+Port\+Info}}
\index{set\+Servo\+Port\+Info@{set\+Servo\+Port\+Info}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{set\+Servo\+Port\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Servo\+Port\+Info (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{port, }
\item[{unsigned int}]{baud}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a76af3e89d1a8705426584bedb0624909}


Sets the servos port info, data and selected port. 


\begin{DoxyParams}{Parameters}
{\em port} & String containing the selected port \\
\hline
{\em baud} & Contains the selected baud rate \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00145     \{
00146         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00147         \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} = port;
00148         \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} = baud;
00149         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00150     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_ac3471e5020f5d9babd3f2ff7b3b82aca}{}\index{Servo\+Thread@{Servo\+Thread}!set\+S\+I\+D@{set\+S\+I\+D}}
\index{set\+S\+I\+D@{set\+S\+I\+D}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{set\+S\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+S\+I\+D (
\begin{DoxyParamCaption}
\item[{Q\+Vector$<$ int $>$ \&}]{V}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_ac3471e5020f5d9babd3f2ff7b3b82aca}


Sets the servos I\+D. 


\begin{DoxyParams}{Parameters}
{\em V} & Vector containing all the servos I\+D \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00155     \{
00156         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00157         \textcolor{keywordflow}{if} (V.size() != \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}.size()) \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}.resize(V.size());
00158         
00159         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < V.size(); ++i) \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].ID = V[i];
00160         \hyperlink{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00161         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00162     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_add4637d917a772c4c01a43b5b66da2be}{}\index{Servo\+Thread@{Servo\+Thread}!single\+Angle@{single\+Angle}}
\index{single\+Angle@{single\+Angle}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{single\+Angle}]{\setlength{\rightskip}{0pt plus 5cm}double Servo\+Thread\+::single\+Angle (
\begin{DoxyParamCaption}
\item[{double}]{x0, }
\item[{double}]{y0, }
\item[{double}]{z0}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_add4637d917a772c4c01a43b5b66da2be}


Calculates the angle of one servo in the selected position. 


\begin{DoxyCode}
00133 \{
00134     \textcolor{keywordtype}{double} n = \hyperlink{class_servo_thread_a14f03febaa39a60b9bf7ff9b9151060c}{b} * \hyperlink{class_servo_thread_a14f03febaa39a60b9bf7ff9b9151060c}{b} - \hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a} * \hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a} - z0 * z0 - x0 * x0 - y0 * y0;
00135     \textcolor{keywordtype}{double} raiz = sqrt (n*n*y0*y0 - 4*(x0*x0 + y0*y0)*(-x0*x0*\hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a}*\hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a} + n*n/4));
00136     
00137     \textcolor{keywordflow}{if} (x0 < 0) raiz *= -1;
00138     \textcolor{keywordtype}{double} y = (-n*y0 + raiz ) / (2*(x0*x0 + y0*y0));
00139     
00140     \textcolor{keywordtype}{int} signe = 1;
00141     \textcolor{keywordflow}{if} ((\hyperlink{class_servo_thread_a14f03febaa39a60b9bf7ff9b9151060c}{b}*\hyperlink{class_servo_thread_a14f03febaa39a60b9bf7ff9b9151060c}{b} - (y0 + \hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a})*(y0 + \hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a})) < (x0*x0 + z0*z0) && x0 < 0) signe *= -1;
00142     \textcolor{keywordtype}{double} x = sqrt(\hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a}*\hyperlink{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{a} - y*y)*signe;
00143     \textcolor{keywordflow}{return} atan2 (y,x);
00144 \}
\end{DoxyCode}
\hypertarget{class_servo_thread_a3c84cf179d1746091795c60f3a68ce06}{}\index{Servo\+Thread@{Servo\+Thread}!status\+Bar@{status\+Bar}}
\index{status\+Bar@{status\+Bar}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{status\+Bar}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::status\+Bar (
\begin{DoxyParamCaption}
\item[{Q\+String}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}\label{class_servo_thread_a3c84cf179d1746091795c60f3a68ce06}


Emmitted when the status bar must be changed. 

\hypertarget{class_servo_thread_a5f32574f843d76deffec45995028389b}{}\index{Servo\+Thread@{Servo\+Thread}!wake\+Up@{wake\+Up}}
\index{wake\+Up@{wake\+Up}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{wake\+Up}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::wake\+Up (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{class_servo_thread_a5f32574f843d76deffec45995028389b}


Continues program\textquotesingle{}s execution. 


\begin{DoxyCode}
00166     \{
00167         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00168         \hyperlink{class_servo_thread_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause} = \textcolor{keyword}{false};
00169         \hyperlink{class_servo_thread_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00170         \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00171     \}
\end{DoxyCode}
\hypertarget{class_servo_thread_ae5753b8c12768d2115ff900f0ab8e13c}{}\index{Servo\+Thread@{Servo\+Thread}!write@{write}}
\index{write@{write}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::write (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{file}
\end{DoxyParamCaption}
)}\label{class_servo_thread_ae5753b8c12768d2115ff900f0ab8e13c}


Writes data to the selected directory. 


\begin{DoxyParams}{Parameters}
{\em file} & Path to the file \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00064 \{
00065     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00066     QFile f(file);
00067     f.open(QIODevice::WriteOnly);
00068     QDataStream df(&f);
00069     
00070     df << int(Version::v\_1\_0) << \hyperlink{class_servo_thread_a9fccfd415e2e55c8abef7fcc6535af30}{\_cBaud} << \hyperlink{class_servo_thread_ab52437b31a433c427a6c050f2b1cc959}{\_cPort} << \hyperlink{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} << 
      \hyperlink{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort}
00071        << \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}.size();    
00072     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} Servo &s : \hyperlink{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}) df << s.ID;
00073     
00074     \hyperlink{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00075 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\hypertarget{class_servo_thread_aad24ef961ee39dd35766c725c13b11b7}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+axis@{\+\_\+axis}}
\index{\+\_\+axis@{\+\_\+axis}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+axis}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ float $>$ Servo\+Thread\+::\+\_\+axis\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_aad24ef961ee39dd35766c725c13b11b7}


Contains the axis value. 

\hypertarget{class_servo_thread_a6f956f7e0f2953e213ff95fb64857ab0}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+buts@{\+\_\+buts}}
\index{\+\_\+buts@{\+\_\+buts}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+buts}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ bool $>$ Servo\+Thread\+::\+\_\+buts\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a6f956f7e0f2953e213ff95fb64857ab0}


Contains the buttons value. 

\hypertarget{class_servo_thread_a9fccfd415e2e55c8abef7fcc6535af30}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+c\+Baud@{\+\_\+c\+Baud}}
\index{\+\_\+c\+Baud@{\+\_\+c\+Baud}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+c\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::\+\_\+c\+Baud\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a9fccfd415e2e55c8abef7fcc6535af30}


Contains the baud rate used to comunicate with the clamp. 

\hypertarget{class_servo_thread_afcb93c09acd7fecf47d92996a297365c}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+cond@{\+\_\+cond}}
\index{\+\_\+cond@{\+\_\+cond}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+cond}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Wait\+Condition Servo\+Thread\+::\+\_\+cond\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_afcb93c09acd7fecf47d92996a297365c}


To start and pause the thread. 

\hypertarget{class_servo_thread_ab52437b31a433c427a6c050f2b1cc959}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+c\+Port@{\+\_\+c\+Port}}
\index{\+\_\+c\+Port@{\+\_\+c\+Port}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+c\+Port}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Servo\+Thread\+::\+\_\+c\+Port\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_ab52437b31a433c427a6c050f2b1cc959}


Contains the selected com port used to comunitate with the clamp. 

\hypertarget{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+d\+Changed@{\+\_\+d\+Changed}}
\index{\+\_\+d\+Changed@{\+\_\+d\+Changed}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+d\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+d\+Changed\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}


True if the data changes. 

\hypertarget{class_servo_thread_acca9896d1a2d1ef68527e6834f81c76c}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+end@{\+\_\+end}}
\index{\+\_\+end@{\+\_\+end}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+end}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+end\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_acca9896d1a2d1ef68527e6834f81c76c}


True when we must end executino. 

\hypertarget{class_servo_thread_acdecea1688594d3ab7386a6db97dd90d}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+mod@{\+\_\+mod}}
\index{\+\_\+mod@{\+\_\+mod}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+mod}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mode} Servo\+Thread\+::\+\_\+mod\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_acdecea1688594d3ab7386a6db97dd90d}


Contains the working mode. 

\hypertarget{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+mutex@{\+\_\+mutex}}
\index{\+\_\+mutex@{\+\_\+mutex}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+mutex}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Mutex Servo\+Thread\+::\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a6327eafc0dac189ec1b202d63ef32457}


To prevent memory errors. 

\hypertarget{class_servo_thread_aaf2ef80e8e43518b75d20a5102970d2e}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+pause@{\+\_\+pause}}
\index{\+\_\+pause@{\+\_\+pause}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+pause}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+pause\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_aaf2ef80e8e43518b75d20a5102970d2e}


Pauses the execution of the thread. 

\hypertarget{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Baud@{\+\_\+s\+Baud}}
\index{\+\_\+s\+Baud@{\+\_\+s\+Baud}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+s\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::\+\_\+s\+Baud\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a5b9a41b9e271275b914affb0a845a2ee}


Contains the used baud rate to comunicate with the servos. 

\hypertarget{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+servos@{\+\_\+servos}}
\index{\+\_\+servos@{\+\_\+servos}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+servos}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ {\bf Servo} $>$ Servo\+Thread\+::\+\_\+servos\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a1ac6662fe6d198b5971ae0ffa7ddfcfd}


Contains the servos information. 

\hypertarget{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Port@{\+\_\+s\+Port}}
\index{\+\_\+s\+Port@{\+\_\+s\+Port}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+s\+Port}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Servo\+Thread\+::\+\_\+s\+Port\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_ac9a614aa1518efb49b0a06636bd1bdbf}


Contains the selected com port used in the comunication with servos. 

\hypertarget{class_servo_thread_a6e803432db01b10ed975132315280fd3}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Port\+Changed@{\+\_\+s\+Port\+Changed}}
\index{\+\_\+s\+Port\+Changed@{\+\_\+s\+Port\+Changed}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{\+\_\+s\+Port\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+s\+Port\+Changed\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a6e803432db01b10ed975132315280fd3}


True if the servos port changes. 

\hypertarget{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}{}\index{Servo\+Thread@{Servo\+Thread}!a@{a}}
\index{a@{a}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{a}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::a = 17.\+233\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a7dc3998d380d61406fe4485f9872edff}


The arm length. 

\hypertarget{class_servo_thread_a14f03febaa39a60b9bf7ff9b9151060c}{}\index{Servo\+Thread@{Servo\+Thread}!b@{b}}
\index{b@{b}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{b}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::b = 22.\+648\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a14f03febaa39a60b9bf7ff9b9151060c}


The forearm length. 

\hypertarget{class_servo_thread_a86dc58ff23326f939cd6fb610ac90d53}{}\index{Servo\+Thread@{Servo\+Thread}!cos60@{cos60}}
\index{cos60@{cos60}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{cos60}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::cos60 = 0.\+5\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a86dc58ff23326f939cd6fb610ac90d53}


Contains the cosinus of 60. 

\hypertarget{class_servo_thread_a6281142e50115dd8c914c14cfae6f90d}{}\index{Servo\+Thread@{Servo\+Thread}!L1@{L1}}
\index{L1@{L1}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{L1}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::\+L1 = 5.\+000\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a6281142e50115dd8c914c14cfae6f90d}


The base center lenght. 

\hypertarget{class_servo_thread_a3d51c16b1f498b48a6ecbfaadaba6ed2}{}\index{Servo\+Thread@{Servo\+Thread}!L2@{L2}}
\index{L2@{L2}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{L2}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::\+L2 = 6.\+000\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_a3d51c16b1f498b48a6ecbfaadaba6ed2}


The platform center length. 

\hypertarget{class_servo_thread_aaa3e2dd194949b12f8a41ebd0d62fde9}{}\index{Servo\+Thread@{Servo\+Thread}!sin60@{sin60}}
\index{sin60@{sin60}!Servo\+Thread@{Servo\+Thread}}
\subsubsection[{sin60}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::sin60 = sqrt(3)/2\hspace{0.3cm}{\ttfamily [private]}}\label{class_servo_thread_aaa3e2dd194949b12f8a41ebd0d62fde9}


Contains the sinus of 60. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{servothread_8h}{servothread.\+h}\item 
\hyperlink{servothread_8cpp}{servothread.\+cpp}\end{DoxyCompactItemize}
