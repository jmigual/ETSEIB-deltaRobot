\hypertarget{dynamixel_8h_source}{}\section{dynamixel.\+h}
\label{dynamixel_8h_source}\index{dxl/dynamixel.\+h@{dxl/dynamixel.\+h}}

\begin{DoxyCode}
00001 \textcolor{comment}{// Dynamixel SDK platform independent header}
00003 \textcolor{preprocessor}{#ifndef \_DYNAMIXEL\_HEADER}
00004 \textcolor{preprocessor}{#define \_DYNAMIXEL\_HEADER}
00005 
00006 \textcolor{preprocessor}{#include "\hyperlink{dxl__hal_8h}{dxl\_hal.h}"}
00007 
\hypertarget{dynamixel_8h_source_l00008}{}\hyperlink{dynamixel_8h_a1cdef4472847c938fc165b7d2737c4e4}{00008} \textcolor{preprocessor}{#define MAX\_ID              (252)}
\hypertarget{dynamixel_8h_source_l00009}{}\hyperlink{dynamixel_8h_ab9fe47395310b34fa1ceb112c9ca10e2}{00009} \textcolor{preprocessor}{#define BROADCAST\_ID        (254)  //BroadCast ID}
00010 
00011 \textcolor{comment}{/* Communication Errorrobotis1  1 List */}
\hypertarget{dynamixel_8h_source_l00012}{}\hyperlink{dynamixel_8h_aac6d30f996256b24d311de81eb0f0c1e}{00012} \textcolor{preprocessor}{#define COMM\_TXSUCCESS      (0)  //Succeed transmit instruction packet}
\hypertarget{dynamixel_8h_source_l00013}{}\hyperlink{dynamixel_8h_a171328d9f298535c18d079f65e631434}{00013} \textcolor{preprocessor}{#define COMM\_RXSUCCESS      (1)  //Succeed get status packet}
\hypertarget{dynamixel_8h_source_l00014}{}\hyperlink{dynamixel_8h_af88390c8be18c4079e65fd07b8d553be}{00014} \textcolor{preprocessor}{#define COMM\_TXFAIL         (2)  //Failed transmit instruction packet}
\hypertarget{dynamixel_8h_source_l00015}{}\hyperlink{dynamixel_8h_a7a274a04e144aac01bedabaec005fd6f}{00015} \textcolor{preprocessor}{#define COMM\_RXFAIL         (3)  //Failed get status packet}
\hypertarget{dynamixel_8h_source_l00016}{}\hyperlink{dynamixel_8h_a1bd7c7b30db4f56dc80cef65ad38afff}{00016} \textcolor{preprocessor}{#define COMM\_TXERROR        (4)  //Incorrect instruction packet}
\hypertarget{dynamixel_8h_source_l00017}{}\hyperlink{dynamixel_8h_ae4b5e71a685506956bf151e3117f3487}{00017} \textcolor{preprocessor}{#define COMM\_RXWAITING      (5)  //Now recieving status packet}
\hypertarget{dynamixel_8h_source_l00018}{}\hyperlink{dynamixel_8h_af9976398353d104bb8a78b1f02f9fceb}{00018} \textcolor{preprocessor}{#define COMM\_RXTIMEOUT      (6)  //There is no status packet}
\hypertarget{dynamixel_8h_source_l00019}{}\hyperlink{dynamixel_8h_a93c30bd345d8077112f0a3524d26278b}{00019} \textcolor{preprocessor}{#define COMM\_RXCORRUPT      (7)  //Incorrect status packet}
00020 
00021 \textcolor{comment}{/* Error Status List */}
\hypertarget{dynamixel_8h_source_l00022}{}\hyperlink{dynamixel_8h_ab779f3983333a0e6dd9ac22db085f085}{00022} \textcolor{preprocessor}{#define ERRBIT\_ALERT        (128)//When the device has a problem, it is et as 1. Check "Device Status
       Check" value.}
00023 
\hypertarget{dynamixel_8h_source_l00024}{}\hyperlink{dynamixel_8h_a03c05ff8bd55f2fcbccea7cbcc27f631}{00024} \textcolor{preprocessor}{#define ERR\_RESULT\_FAIL     (1)  //Failed to process the instruction packet.}
\hypertarget{dynamixel_8h_source_l00025}{}\hyperlink{dynamixel_8h_aa91884b8935522bb2a399344af15219e}{00025} \textcolor{preprocessor}{#define ERR\_INSTRUCTION     (2)  //Instruction error}
\hypertarget{dynamixel_8h_source_l00026}{}\hyperlink{dynamixel_8h_ae2f8372efd8fbf20128240c45f597109}{00026} \textcolor{preprocessor}{#define ERR\_CRC             (3)  //CRC check error}
\hypertarget{dynamixel_8h_source_l00027}{}\hyperlink{dynamixel_8h_a9911d2e939402bec893f45c505509f0b}{00027} \textcolor{preprocessor}{#define ERR\_DATA\_RANGE      (4)  //Data range error}
\hypertarget{dynamixel_8h_source_l00028}{}\hyperlink{dynamixel_8h_ae0f1b1095721c3f135fdcc9df2bf5646}{00028} \textcolor{preprocessor}{#define ERR\_DATA\_LENGTH     (5)  //Data length error}
\hypertarget{dynamixel_8h_source_l00029}{}\hyperlink{dynamixel_8h_a6c295332e1aa0a5a634876922cd80add}{00029} \textcolor{preprocessor}{#define ERR\_DATA\_LIMIT      (6)  //Data limit error}
\hypertarget{dynamixel_8h_source_l00030}{}\hyperlink{dynamixel_8h_aed4705155f092e9afb386c82efcba242}{00030} \textcolor{preprocessor}{#define ERR\_ACCESS          (7)  //Access error}
00031 
00032 
\hypertarget{dynamixel_8h_source_l00033}{}\hyperlink{dynamixel_8h_a3c2bb339c587abadd977eb2f14daeff9}{00033} \textcolor{preprocessor}{#define PRT1\_PKT\_ID                 (2)}
\hypertarget{dynamixel_8h_source_l00034}{}\hyperlink{dynamixel_8h_ab24601f91d0364e4b62edad3c2a0a5c4}{00034} \textcolor{preprocessor}{#define PRT1\_PKT\_LENGTH             (3)}
\hypertarget{dynamixel_8h_source_l00035}{}\hyperlink{dynamixel_8h_a3da1d083c018994fb0c859f4e06e1f78}{00035} \textcolor{preprocessor}{#define PRT1\_PKT\_INSTRUCTION        (4)}
\hypertarget{dynamixel_8h_source_l00036}{}\hyperlink{dynamixel_8h_a582837a5f6ad93ee1dbb82ba51691edf}{00036} \textcolor{preprocessor}{#define PRT1\_PKT\_ERRBIT             (4)}
\hypertarget{dynamixel_8h_source_l00037}{}\hyperlink{dynamixel_8h_a939ef836d0605d2f4f9372df3ea0855f}{00037} \textcolor{preprocessor}{#define PRT1\_PKT\_PARAMETER0         (5)}
00038 
00039 
\hypertarget{dynamixel_8h_source_l00040}{}\hyperlink{dynamixel_8h_acb92e93ddd4b53533b14dc3403346bbf}{00040} \textcolor{preprocessor}{#define INST\_PING           (1)}
\hypertarget{dynamixel_8h_source_l00041}{}\hyperlink{dynamixel_8h_a60599b6587736bb05efb8ea3c5e5f87f}{00041} \textcolor{preprocessor}{#define INST\_READ           (2)}
\hypertarget{dynamixel_8h_source_l00042}{}\hyperlink{dynamixel_8h_a1c304d06170982719fd605a87c9101f0}{00042} \textcolor{preprocessor}{#define INST\_WRITE          (3)}
\hypertarget{dynamixel_8h_source_l00043}{}\hyperlink{dynamixel_8h_ae2afd415cd9007f4688bf77507f0383e}{00043} \textcolor{preprocessor}{#define INST\_REG\_WRITE      (4)}
\hypertarget{dynamixel_8h_source_l00044}{}\hyperlink{dynamixel_8h_adea21b73305aa7a5b3317e299c616853}{00044} \textcolor{preprocessor}{#define INST\_ACTION         (5)}
\hypertarget{dynamixel_8h_source_l00045}{}\hyperlink{dynamixel_8h_ad670526ca941302efb4a0d00e7dd43c0}{00045} \textcolor{preprocessor}{#define INST\_RESET          (6)}
\hypertarget{dynamixel_8h_source_l00046}{}\hyperlink{dynamixel_8h_aeaa4b61ee11d45bd1a0cb932d7abaf77}{00046} \textcolor{preprocessor}{#define INST\_SYNC\_WRITE     (131)}
\hypertarget{dynamixel_8h_source_l00047}{}\hyperlink{dynamixel_8h_a7967a17d10e9100ffb48ca542ba7587f}{00047} \textcolor{preprocessor}{#define INST\_BULK\_READ      (146)  // 0x92}
00048 
\hypertarget{dynamixel_8h_source_l00049}{}\hyperlink{dynamixel_8h_addfe8da7a67888c0c7718cdd2f2ddfd4}{00049} \textcolor{preprocessor}{#define PING\_INFO\_MODEL\_NUM   (1)}
\hypertarget{dynamixel_8h_source_l00050}{}\hyperlink{dynamixel_8h_a2567de0a1d75cc4dfd4b0cf1abf425c9}{00050} \textcolor{preprocessor}{#define PING\_INFO\_FIRM\_VER    (2)}
00051     
\hypertarget{dynamixel_8h_source_l00053}{}\hyperlink{dynamixel_8h_a6b98c16b8e3e7733dd4063d0b0fac24c}{00053} \textcolor{preprocessor}{#define MAKEWORD(a, b)      ((unsigned short)(((unsigned char)(((unsigned long)(a)) & 0xff)) | ((unsigned
       short)((unsigned char)(((unsigned long)(b)) & 0xff))) << 8))}
\hypertarget{dynamixel_8h_source_l00054}{}\hyperlink{dynamixel_8h_a84e53a3db3f2ef95c6085d6f3531ae0e}{00054} \textcolor{preprocessor}{#define MAKEDWORD(a, b)     ((unsigned int)(((unsigned short)(((unsigned long)(a)) & 0xffff)) | ((unsigned
       int)((unsigned short)(((unsigned long)(b)) & 0xffff))) << 16))}
\hypertarget{dynamixel_8h_source_l00055}{}\hyperlink{dynamixel_8h_a00be6c40bc7a1297ada4d47a028066b8}{00055} \textcolor{preprocessor}{#define LOWORD(l)           ((unsigned short)(((unsigned long)(l)) & 0xffff))}
\hypertarget{dynamixel_8h_source_l00056}{}\hyperlink{dynamixel_8h_aeb28b2d61bd674900a89bfb77e28ae07}{00056} \textcolor{preprocessor}{#define HIWORD(l)           ((unsigned short)((((unsigned long)(l)) >> 16) & 0xffff))}
\hypertarget{dynamixel_8h_source_l00057}{}\hyperlink{dynamixel_8h_a04c0416272e5c07bdf955d803a21688e}{00057} \textcolor{preprocessor}{#define LOBYTE(w)           ((unsigned char)(((unsigned long)(w)) & 0xff))}
\hypertarget{dynamixel_8h_source_l00058}{}\hyperlink{dynamixel_8h_a75c5b5f21e837e80c0feb4da9a421f87}{00058} \textcolor{preprocessor}{#define HIBYTE(w)           ((unsigned char)((((unsigned long)(w)) >> 8) & 0xff))}
00059 
\hypertarget{dynamixel_8h_source_l00061}{}\hyperlink{classdynamixel}{00061} \textcolor{keyword}{class }\hyperlink{classdynamixel}{dynamixel} \{
00062 \textcolor{keyword}{private}:
00063     
\hypertarget{dynamixel_8h_source_l00065}{}\hyperlink{classdynamixel_ae003cc90ada6d7b70eaa4ea9d42d4deb}{00065}     \hyperlink{classdxl__hal}{dxl\_hal} \hyperlink{classdynamixel_ae003cc90ada6d7b70eaa4ea9d42d4deb}{dH};
00066     
\hypertarget{dynamixel_8h_source_l00068}{}\hyperlink{classdynamixel_afd94dcf01b8e96298727776e222de722}{00068}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{classdynamixel_afd94dcf01b8e96298727776e222de722}{gbInstructionPacket}[\hyperlink{dxl__hal_8h_ad753363487043da5d9fdd3fd1071f59e}{MAXNUM\_TXPACKET}] = \{0\};
00069     
\hypertarget{dynamixel_8h_source_l00071}{}\hyperlink{classdynamixel_aa57c86d3bbbeaf5c9d4f6bd00376b04f}{00071}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} \hyperlink{classdynamixel_aa57c86d3bbbeaf5c9d4f6bd00376b04f}{gbStatusPacket}[\hyperlink{dxl__hal_8h_a37d5ce8f0a9ee058fa9674502c6a8b3a}{MAXNUM\_RXPACKET}] = \{0\};
00072     
\hypertarget{dynamixel_8h_source_l00074}{}\hyperlink{classdynamixel_a333686e1b5903d16c41df8172b6bd5a8}{00074}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{classdynamixel_a333686e1b5903d16c41df8172b6bd5a8}{gbRxPacketLength} = 0;
00075     
\hypertarget{dynamixel_8h_source_l00077}{}\hyperlink{classdynamixel_a9d590ce24791d111c2db9b66be1e046d}{00077}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{classdynamixel_a9d590ce24791d111c2db9b66be1e046d}{gbRxGetLength} = 0;
00078     
\hypertarget{dynamixel_8h_source_l00080}{}\hyperlink{classdynamixel_a6c6314fb7070e6fd361e57c5de17e0ec}{00080}     \textcolor{keywordtype}{double} \hyperlink{classdynamixel_a6c6314fb7070e6fd361e57c5de17e0ec}{gdPacketStartTime} = 0.0;
00081     
\hypertarget{dynamixel_8h_source_l00083}{}\hyperlink{classdynamixel_a2173f25c6299da7ddb37ba3d2bf1f738}{00083}     \textcolor{keywordtype}{double} \hyperlink{classdynamixel_a2173f25c6299da7ddb37ba3d2bf1f738}{gdByteTransTime} = 0.0;
00084     
\hypertarget{dynamixel_8h_source_l00086}{}\hyperlink{classdynamixel_a9f47887864517d74955a2bc787ae4456}{00086}     \textcolor{keywordtype}{double} \hyperlink{classdynamixel_a9f47887864517d74955a2bc787ae4456}{gdRcvWaitTime} = 0.0;
00087     
\hypertarget{dynamixel_8h_source_l00089}{}\hyperlink{classdynamixel_a5b603f6bed7ccc595f1f50bd6a6ebbfc}{00089}     \textcolor{keywordtype}{int} \hyperlink{classdynamixel_a5b603f6bed7ccc595f1f50bd6a6ebbfc}{gbCommStatus} = \hyperlink{dynamixel_8h_a171328d9f298535c18d079f65e631434}{COMM\_RXSUCCESS};
00090     
\hypertarget{dynamixel_8h_source_l00092}{}\hyperlink{classdynamixel_ad10e0e49f5fef04bf789a89c14cc470a}{00092}     \textcolor{keywordtype}{int} \hyperlink{classdynamixel_ad10e0e49f5fef04bf789a89c14cc470a}{giBusUsing} = 0; 
00093     
00094 \textcolor{keyword}{public}:
00095     
00097     \hyperlink{classdynamixel_a7aa668a213db6a41bede8e08a6fec830}{dynamixel}();
00098     
00100     \hyperlink{classdynamixel_a7aa668a213db6a41bede8e08a6fec830}{dynamixel}(QString port\_num, \textcolor{keywordtype}{int} baud\_rate = 1000000);
00101     
\hypertarget{dynamixel_8h_source_l00103}{}\hyperlink{classdynamixel_a5ae4b2c6eb4c91f404f973ee8e6a1914}{00103}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \hyperlink{classdynamixel_a5ae4b2c6eb4c91f404f973ee8e6a1914}{isOpen}() \{ \textcolor{keywordflow}{return} dH.\hyperlink{classdxl__hal_a88bba601b5c9f285fcdc14e18a1f3398}{isOpen}(); \}
00104 
00106     \textcolor{keywordtype}{int} \hyperlink{classdynamixel_a87960244d5846ae7583e37d2407eb61e}{initialize}(QString port\_num, \textcolor{keywordtype}{int} baud\_rate);
00107     
00109     \textcolor{keywordtype}{int} \hyperlink{classdynamixel_a7554c7889896e29e11a62027d89f3fdf}{change\_baudrate}(\textcolor{keywordtype}{int} baud\_rate);
00110     
00112     \textcolor{keywordtype}{int} \hyperlink{classdynamixel_a92ea074ed1c1a9cf29e039f8c425f01a}{terminate}(\textcolor{keywordtype}{void});
00113     
\hypertarget{dynamixel_8h_source_l00115}{}\hyperlink{classdynamixel_ac8440d5d34ae3c4618b28fdbbd748edc}{00115}     \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \hyperlink{classdynamixel_ac8440d5d34ae3c4618b28fdbbd748edc}{get\_comm\_result}() \{ \textcolor{keywordflow}{return} \hyperlink{classdynamixel_a5b603f6bed7ccc595f1f50bd6a6ebbfc}{gbCommStatus}; \}
00116     
00117     
00118     
00120     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a479187cd8940c16dd4374eb5be22b888}{tx\_packet}(\textcolor{keywordtype}{void});
00121     
00123     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_aa26d2d2dff768563a1cb1480aa061608}{rx\_packet}(\textcolor{keywordtype}{void});
00124     
00126     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_aebfc569c6b1eb0b98f8c385f0f921fc0}{txrx\_packet}(\textcolor{keywordtype}{void});
00127     
00129     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a84e24c72c3e5be866f8b28c2e5bd1d95}{set\_txpacket\_id}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id});
00130     
00132     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a209a43f983f214323b6f0a627d5e8c13}{set\_txpacket\_instruction}(\textcolor{keywordtype}{int} instruction);
00133     
00135     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a2c3d31bbbed70a69918e9972a620384b}{set\_txpacket\_parameter}(\textcolor{keywordtype}{int} index, \textcolor{keywordtype}{int} value);
00136     
00138     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a829278f48e21c810b172eb8cab3b86de}{set\_txpacket\_length}(\textcolor{keywordtype}{int} length);
00139     
00142     \textcolor{keywordtype}{bool} \hyperlink{classdynamixel_a843b0aac721e4264e7e3097f80980243}{get\_rxpacket\_error}(\textcolor{keywordtype}{int} error);
00143     
00145     \textcolor{keywordtype}{int}  \hyperlink{classdynamixel_a6e62341ef9f51b6e152e769bd7be9d75}{get\_rxpacket\_error\_byte}(\textcolor{keywordtype}{void});
00146     
00148     \textcolor{keywordtype}{int}  \hyperlink{classdynamixel_a68b5fa99719a9aec0734ecfb0635503b}{get\_rxpacket\_parameter}( \textcolor{keywordtype}{int} index );
00149     
00151     \textcolor{keywordtype}{int}  \hyperlink{classdynamixel_ae9cc18fdeda8329f68fa0f2f0a7a9aba}{get\_rxpacket\_length}();
00152     
00155     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_af2bd714423e7c4fc089762805c0c71f3}{ping}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id});
00156     
00160     \textcolor{keywordtype}{int}  \hyperlink{classdynamixel_a888404b41c4c4395a0b745c77ff2cea9}{read\_byte}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} address);
00161     
00166     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a66c1e32cc45dd46d329f1fc212e46a3d}{write\_byte}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} address, \textcolor{keywordtype}{int} value);
00167     
00171     \textcolor{keywordtype}{int}  \hyperlink{classdynamixel_a45e99341e82c5114f6e829c9141bf96f}{read\_word}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} address);
00172     
00177     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a925f62ce5e261e5ef4fe6dc46bdc7c63}{write\_word}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} address, \textcolor{keywordtype}{int} value);    
00178     
00180     \textcolor{keywordtype}{double} \hyperlink{classdynamixel_a2fa5375537184c279a9ebfcfc0425071}{get\_packet\_time}();
00181     
00184     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a067f82c21ed176e18fa224d16f3d1c5b}{set\_packet\_timeout}(\textcolor{keywordtype}{int} NumRcvByte);
00185     
00188     \textcolor{keywordtype}{void} \hyperlink{classdynamixel_a125b42f776c4aac520f274074f68b591}{set\_packet\_timeout\_ms}(\textcolor{keywordtype}{int} msec);
00189     
00192     \textcolor{keywordtype}{bool} \hyperlink{classdynamixel_a00d08481ebc4dee19debecf43f888522}{is\_packet\_timeout}();
00193 \};
00194 
00195 \textcolor{preprocessor}{#endif}
\end{DoxyCode}
