\hypertarget{a00024_source}{}\section{servothread.\+h}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#ifndef SERVOTHREAD\_H}
00003 \textcolor{preprocessor}{#define SERVOTHREAD\_H}
00004 
00005 \textcolor{comment}{// Adding precompiled header}
00006 \textcolor{preprocessor}{#include "\hyperlink{a00025}{stable.h}"}
00007 
00008 \textcolor{comment}{// User libraries}
00009 \textcolor{preprocessor}{#include "\hyperlink{a00011}{dxl/ax12.h}"}
00010 \textcolor{preprocessor}{#include <QVector>}
00011 
00012 \textcolor{preprocessor}{#undef M\_PI}
00013 \textcolor{preprocessor}{#define M\_PI 3.14159265358979323846264338327}
00014 
\hypertarget{a00024_source_l00017}{}\hyperlink{a00009}{00017} \textcolor{keyword}{class }\hyperlink{a00009}{ServoThread} : \textcolor{keyword}{public} QThread
00018 \{
00019     Q\_OBJECT
00020     
\hypertarget{a00024_source_l00022}{}\hyperlink{a00009_aeccce0ac6a969e2ee7cbe91687e2d085}{00022}     \textcolor{keyword}{enum} \hyperlink{a00009_aeccce0ac6a969e2ee7cbe91687e2d085}{Version} 
00023     \{
\hypertarget{a00024_source_l00024}{}\hyperlink{a00009_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{00024}         \hyperlink{a00009_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{v\_1\_0}
00025     \};
00026     
\hypertarget{a00024_source_l00028}{}\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9c}{00028}     \textcolor{keyword}{enum} \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9c}{Status} \{
\hypertarget{a00024_source_l00029}{}\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca1dad1d6f2c4b2b0a2eb62a938a9e7f51}{00029}         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca1dad1d6f2c4b2b0a2eb62a938a9e7f51}{begin},
\hypertarget{a00024_source_l00030}{}\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caf04ef179dc6409795e9d3ade571c3515}{00030}         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caf04ef179dc6409795e9d3ade571c3515}{take},
\hypertarget{a00024_source_l00031}{}\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caaddba813e34d7dd76102738562a90054}{00031}         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caaddba813e34d7dd76102738562a90054}{waiting},
\hypertarget{a00024_source_l00032}{}\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca78f8ef8a596e79d3e778ef9052461658}{00032}         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca78f8ef8a596e79d3e778ef9052461658}{rotate},
\hypertarget{a00024_source_l00033}{}\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9cac8deab3874847d5e02a4593a81de8ba3}{00033}         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9cac8deab3874847d5e02a4593a81de8ba3}{going},
\hypertarget{a00024_source_l00034}{}\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca08a8e15b95d1cf505aab103927b3f832}{00034}         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca08a8e15b95d1cf505aab103927b3f832}{ending}
00035     \};
00036     
\hypertarget{a00024_source_l00038}{}\hyperlink{a00002}{00038}     \textcolor{keyword}{struct }\hyperlink{a00002}{Dominoe}
00039     \{
\hypertarget{a00024_source_l00040}{}\hyperlink{a00002_a8caa44969c79e0e46576da349957975b}{00040}         \textcolor{keywordtype}{double} \hyperlink{a00002_a8caa44969c79e0e46576da349957975b}{X};   
\hypertarget{a00024_source_l00041}{}\hyperlink{a00002_ae7711996c8204586b6d8a5e657c4b06a}{00041}         \textcolor{keywordtype}{double} \hyperlink{a00002_ae7711996c8204586b6d8a5e657c4b06a}{Y};   
\hypertarget{a00024_source_l00042}{}\hyperlink{a00002_a451efc4d2eb2f1dd10006c6c49846e8d}{00042}         \textcolor{keywordtype}{double} \hyperlink{a00002_a451efc4d2eb2f1dd10006c6c49846e8d}{ori}; 
00043         
\hypertarget{a00024_source_l00045}{}\hyperlink{a00002_ab2bda7d8d5ea90e61e3904c87bf01245}{00045}         \textcolor{keywordtype}{bool} \hyperlink{a00002_ab2bda7d8d5ea90e61e3904c87bf01245}{operator <}(\textcolor{keyword}{const} \hyperlink{a00002}{Dominoe} &d)\textcolor{keyword}{ const}
00046 \textcolor{keyword}{        }\{
00047             \textcolor{keywordflow}{if} (this->X != d.\hyperlink{a00002_a8caa44969c79e0e46576da349957975b}{X}) \textcolor{keywordflow}{return} this->X < d.\hyperlink{a00002_a8caa44969c79e0e46576da349957975b}{X};
00048             \textcolor{keywordflow}{return} this->Y < d.\hyperlink{a00002_ae7711996c8204586b6d8a5e657c4b06a}{Y};
00049         \}
00050         
\hypertarget{a00024_source_l00052}{}\hyperlink{a00002_af7ad901ee679234b8826af58a13fba45}{00052}         \hyperlink{a00002}{Dominoe}& \hyperlink{a00002_af7ad901ee679234b8826af58a13fba45}{operator =}(\textcolor{keyword}{const} \hyperlink{a00002}{Dominoe} &d)
00053         \{
00054             this->X = d.\hyperlink{a00002_a8caa44969c79e0e46576da349957975b}{X};
00055             this->Y = d.\hyperlink{a00002_ae7711996c8204586b6d8a5e657c4b06a}{Y};
00056             this->ori = d.\hyperlink{a00002_a451efc4d2eb2f1dd10006c6c49846e8d}{ori};
00057             \textcolor{keywordflow}{return} *\textcolor{keyword}{this};
00058         \}
00059         
\hypertarget{a00024_source_l00061}{}\hyperlink{a00002_aa9c033e180ad43bfe5127e96cef77b9d}{00061}         \hyperlink{a00002_aa9c033e180ad43bfe5127e96cef77b9d}{Dominoe}() : X(0), Y(0), ori(0) \{\}
00062         
\hypertarget{a00024_source_l00064}{}\hyperlink{a00002_a9cd75d2de5cec349594c40c321c204c4}{00064}         \hyperlink{a00002_a9cd75d2de5cec349594c40c321c204c4}{Dominoe}(\textcolor{keywordtype}{double} X, \textcolor{keywordtype}{double} Y, \textcolor{keywordtype}{double} ori) : X(X), Y(Y), ori(ori) \{\}
00065         
\hypertarget{a00024_source_l00067}{}\hyperlink{a00002_aea355d23a1420ef5206bdcf6d60070da}{00067}         \hyperlink{a00002_aea355d23a1420ef5206bdcf6d60070da}{Dominoe}(QVector2D point, \textcolor{keywordtype}{double} ori): X(point.x()), Y(point.y()), ori(ori) \{\}
00068     \};
00069     
00070 \textcolor{keyword}{public}:
00071     
\hypertarget{a00024_source_l00073}{}\hyperlink{a00007}{00073}     \textcolor{keyword}{struct }\hyperlink{a00007}{Servo} 
00074     \{
\hypertarget{a00024_source_l00075}{}\hyperlink{a00007_a06b514c42113aa85fd1703fc88fca7ce}{00075}         \textcolor{keywordtype}{int} \hyperlink{a00007_a06b514c42113aa85fd1703fc88fca7ce}{ID};         
\hypertarget{a00024_source_l00076}{}\hyperlink{a00007_a9fa0aa56944b9b0bb9d66303d5bd4b59}{00076}         \textcolor{keywordtype}{double} \hyperlink{a00007_a9fa0aa56944b9b0bb9d66303d5bd4b59}{pos};     
00077         
\hypertarget{a00024_source_l00079}{}\hyperlink{a00007_a219887703cad3d3252fdde5a1aae586e}{00079}         \hyperlink{a00007_a219887703cad3d3252fdde5a1aae586e}{Servo}(\textcolor{keywordtype}{int} ID = -1, \textcolor{keywordtype}{double} pos = -1) 
00080             : ID(ID), pos(pos) \{\}
00081         
\hypertarget{a00024_source_l00083}{}\hyperlink{a00007_acb657f09a5d04424d134791ca501cb54}{00083}         \hyperlink{a00007_acb657f09a5d04424d134791ca501cb54}{Servo}(\textcolor{keyword}{const} \hyperlink{a00007}{Servo} &s) : ID(s.ID), pos(s.pos) \{\}
00084         
\hypertarget{a00024_source_l00086}{}\hyperlink{a00007_acfe010f463ec6e85718a9883689811cb}{00086}         \textcolor{keywordtype}{void} \hyperlink{a00007_acfe010f463ec6e85718a9883689811cb}{operator=}(\textcolor{keyword}{const} \hyperlink{a00007}{Servo} &s) 
00087         \{
00088             this->ID = s.\hyperlink{a00007_a06b514c42113aa85fd1703fc88fca7ce}{ID};
00089             this->pos = s.\hyperlink{a00007_a9fa0aa56944b9b0bb9d66303d5bd4b59}{pos};
00090         \}
00091     \};
00092     
\hypertarget{a00024_source_l00094}{}\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{00094}     \textcolor{keyword}{enum} \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode} 
00095     \{
\hypertarget{a00024_source_l00096}{}\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5a7473f982355e53004aa4ec48482e0390}{00096}         \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5a7473f982355e53004aa4ec48482e0390}{Controlled},
\hypertarget{a00024_source_l00097}{}\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5ab07aa520bedb6453a76f5f05207bfc2c}{00097}         \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5ab07aa520bedb6453a76f5f05207bfc2c}{Manual},
\hypertarget{a00024_source_l00098}{}\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5aa4bd68ae9816441348750401b067bdf2}{00098}         \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5aa4bd68ae9816441348750401b067bdf2}{Reset}
00099     \};
00100     
00102     \hyperlink{a00009_af021de9817b11968dd627186e9e05a71}{ServoThread}();
00103     
00105     \hyperlink{a00009_a0c7ac1f603a247eac91d9780ad50f5fa}{~ServoThread}();
00106     
\hypertarget{a00024_source_l00108}{}\hyperlink{a00009_aaa273318ffee5ba270cdaacba3f263f8}{00108}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_aaa273318ffee5ba270cdaacba3f263f8}{end}()
00109     \{
00110         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00111         \hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{\_end} = \textcolor{keyword}{true};
00112         \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00113         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00114         
00115         wait();
00116     \}
00117     
\hypertarget{a00024_source_l00119}{}\hyperlink{a00009_a19ad0fe74d9f35220bf2864dbcecce2a}{00119}     \textcolor{keyword}{inline} QVector4D \hyperlink{a00009_a19ad0fe74d9f35220bf2864dbcecce2a}{getCurrentPos}()
00120     \{
00121         QMutexLocker m(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00122         \textcolor{keywordflow}{return} \hyperlink{a00009_a6ad7cef9e9ac7454399871260e3693d4}{\_pos};
00123     \}
00124     
\hypertarget{a00024_source_l00126}{}\hyperlink{a00009_af2c9e71c33e15937e72703d859cd7147}{00126}     \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \hyperlink{a00009_af2c9e71c33e15937e72703d859cd7147}{getServoBaud}()
00127     \{
00128         QMutexLocker mL(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00129         \textcolor{keywordflow}{return} \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00130     \}
00131     
\hypertarget{a00024_source_l00133}{}\hyperlink{a00009_a3fae25aeac390640192ceb38e32dae40}{00133}     \textcolor{keyword}{inline} QString \hyperlink{a00009_a3fae25aeac390640192ceb38e32dae40}{getServoPort}()
00134     \{
00135         QMutexLocker mL(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00136         \textcolor{keywordflow}{return} \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00137     \}
00138     
\hypertarget{a00024_source_l00140}{}\hyperlink{a00009_afcf834d93f1ac9663d6ebaab820e5f74}{00140}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_afcf834d93f1ac9663d6ebaab820e5f74}{getServoPortInfo}(QString &port, \textcolor{keywordtype}{int} &baud)
00141     \{
00142         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00143         baud = \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00144         port = \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00145         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00146     \}
00147     
\hypertarget{a00024_source_l00150}{}\hyperlink{a00009_a5fd8ef13314428f5ba7646730cc58f1c}{00150}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_a5fd8ef13314428f5ba7646730cc58f1c}{getServosInfo}(QVector<Servo> &V)
00151     \{
00152         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00153         V = \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos};
00154         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00155     \}
00156     
\hypertarget{a00024_source_l00158}{}\hyperlink{a00009_a3d58189cdeddfb828856f192607f68d2}{00158}     \textcolor{keyword}{inline} QVector<Servo> \hyperlink{a00009_a3d58189cdeddfb828856f192607f68d2}{getServosInfo}()
00159     \{
00160         QMutexLocker mL(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00161         \textcolor{keywordflow}{return} \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos};
00162     \}
00163     
\hypertarget{a00024_source_l00165}{}\hyperlink{a00009_ad6ead0ac6fce4539d4b0ff5a3e18ac38}{00165}     \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \hyperlink{a00009_ad6ead0ac6fce4539d4b0ff5a3e18ac38}{getServosNum}() \{ \textcolor{keywordflow}{return} \hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum}; \}
00166     
\hypertarget{a00024_source_l00168}{}\hyperlink{a00009_a6af364effc9c52c0acec7d00a2c3d262}{00168}     \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \hyperlink{a00009_a6af364effc9c52c0acec7d00a2c3d262}{getSpeed}()
00169     \{
00170         QMutexLocker m(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00171         \textcolor{keywordflow}{return} \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed};
00172     \}
00173     
\hypertarget{a00024_source_l00175}{}\hyperlink{a00009_ae520ccab8a81bf7df0a6a8ad3b7fbaae}{00175}     \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \hyperlink{a00009_ae520ccab8a81bf7df0a6a8ad3b7fbaae}{isActive}()
00176     \{
00177         QMutexLocker m(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00178         \textcolor{keywordflow}{return} not \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause};
00179     \}
00180     
\hypertarget{a00024_source_l00182}{}\hyperlink{a00009_a82d074ab2c445470a6f49e2935bf6a8e}{00182}     \textcolor{keyword}{inline} QMutex* \hyperlink{a00009_a82d074ab2c445470a6f49e2935bf6a8e}{mutex}() \{ \textcolor{keywordflow}{return} &\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}; \}
00183     
\hypertarget{a00024_source_l00185}{}\hyperlink{a00009_ae0d4a59954aafbe8cd85f9326e4fcdd0}{00185}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_ae0d4a59954aafbe8cd85f9326e4fcdd0}{pause}()
00186     \{
00187         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00188         \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause} = \textcolor{keyword}{true};
00189         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00190     \}
00191     
00194     \textcolor{keywordtype}{void} \hyperlink{a00009_aaa60ec35320c1c3de691f3a00cd638cb}{read}(QString file);
00195     
00198     \textcolor{keywordtype}{void} \hyperlink{a00009_ae236c55f7d673653d329e1655df349a2}{readPath}(QString file);
00199     
\hypertarget{a00024_source_l00203}{}\hyperlink{a00009_a4f7371fed61d98cf6f128876e8fa518d}{00203}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_a4f7371fed61d98cf6f128876e8fa518d}{reset}() 
00204     \{ 
00205         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00206         \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} = Mode::Reset; 
00207         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00208     \}
00209     
\hypertarget{a00024_source_l00213}{}\hyperlink{a00009_af97b6a355e9278e02fbe8c36e144ed33}{00213}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_af97b6a355e9278e02fbe8c36e144ed33}{setMode}(\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode} m)
00214     \{
00215         QMutexLocker mut(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00216         \textcolor{keywordflow}{if} (!\hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause}) \textcolor{keywordflow}{return};
00217         \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} = m;
00218         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00219     \}
00220     
00224     \textcolor{keywordtype}{void} \hyperlink{a00009_a8497ea56991b620981ce1fbf53d9ebdb}{setData}(QVector< float > &aV, QVector<bool> &buts);
00225     
\hypertarget{a00024_source_l00228}{}\hyperlink{a00009_a009d3d1b99007b14fadb49996fac49d6}{00228}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_a009d3d1b99007b14fadb49996fac49d6}{setServoBaud}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} baud)
00229     \{
00230         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00231         \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} = baud;
00232         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00233         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00234     \}
00235     
\hypertarget{a00024_source_l00238}{}\hyperlink{a00009_a144e31105019d833f59ca2eba012e638}{00238}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_a144e31105019d833f59ca2eba012e638}{setServoPort}(QString &port)
00239     \{
00240         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00241         \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} = port;
00242         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00243         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00244     \}
00245     
\hypertarget{a00024_source_l00249}{}\hyperlink{a00009_a76af3e89d1a8705426584bedb0624909}{00249}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_a76af3e89d1a8705426584bedb0624909}{setServoPortInfo}(QString &port, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} baud)
00250     \{
00251         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00252         \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} = port;
00253         \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} = baud;
00254         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00255         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00256     \}
00257     
00258     
\hypertarget{a00024_source_l00261}{}\hyperlink{a00009_ac3471e5020f5d9babd3f2ff7b3b82aca}{00261}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_ac3471e5020f5d9babd3f2ff7b3b82aca}{setSID} (QVector< int > &V) 
00262     \{
00263         \textcolor{comment}{// Error passing the data}
00264         \textcolor{keywordflow}{if} (V.size() != \hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum}) \{
00265             qDebug() << \textcolor{stringliteral}{"Error setting servos"};
00266             \textcolor{keywordflow}{return};
00267         \}
00268         
00269         
00270         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();        
00271         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < V.size(); ++i) \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].ID = V[i];
00272         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00273         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00274     \}
00275     
\hypertarget{a00024_source_l00278}{}\hyperlink{a00009_a906ea2c67acbffb3e8dedabc03288992}{00278}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_a906ea2c67acbffb3e8dedabc03288992}{setSpeed}(\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} speed)
00279     \{
00280         \textcolor{keywordflow}{if} (speed > 100) speed = 100;
00281         
00282         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00283         \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed} = speed;
00284         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00285         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00286     \}
00287     
\hypertarget{a00024_source_l00289}{}\hyperlink{a00009_a5f32574f843d76deffec45995028389b}{00289}     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} \hyperlink{a00009_a5f32574f843d76deffec45995028389b}{wakeUp}()
00290     \{
00291         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00292         \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause} = \textcolor{keyword}{false};
00293         \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00294         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00295     \}
00296     
00299     \textcolor{keywordtype}{void} \hyperlink{a00009_aca68fe85a100a052c4d41f0fa88cc152}{write}(QString file);
00300     
00301 signals:
00302     
00304     \textcolor{keywordtype}{void} \hyperlink{a00009_a907b3805d113d09a945eb8f8d87851a7}{modeChanged}(\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode});
00305     
00307     \textcolor{keywordtype}{void} \hyperlink{a00009_a3c84cf179d1746091795c60f3a68ce06}{statusBar}(QString);
00308     
00309 \textcolor{keyword}{private}:
00310     
\hypertarget{a00024_source_l00311}{}\hyperlink{a00009_a86dc58ff23326f939cd6fb610ac90d53}{00311}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a86dc58ff23326f939cd6fb610ac90d53}{cos60} = 0.5;       
\hypertarget{a00024_source_l00312}{}\hyperlink{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{00312}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60} = sqrt(3)/2; 
\hypertarget{a00024_source_l00313}{}\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{00313}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a} = 17.233;        
\hypertarget{a00024_source_l00314}{}\hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{00314}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b} = 22.648;        
\hypertarget{a00024_source_l00315}{}\hyperlink{a00009_a6281142e50115dd8c914c14cfae6f90d}{00315}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a6281142e50115dd8c914c14cfae6f90d}{L1} = 6.374;        
\hypertarget{a00024_source_l00316}{}\hyperlink{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}{00316}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} = 6.000;        
\hypertarget{a00024_source_l00317}{}\hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{00317}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr} = 3.0;      
\hypertarget{a00024_source_l00318}{}\hyperlink{a00009_a9af4e0214b1b5c64978bbef49cde6d3c}{00318}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a9af4e0214b1b5c64978bbef49cde6d3c}{minAngle} = 60.0;   
\hypertarget{a00024_source_l00319}{}\hyperlink{a00009_a77cc2aed4eff12967e346cb64f6be192}{00319}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a77cc2aed4eff12967e346cb64f6be192}{maxAngle} = 240.0;  
\hypertarget{a00024_source_l00320}{}\hyperlink{a00009_a4b9e5de00a02c6f77e4308ed209f0cc0}{00320}     \textcolor{keyword}{const} \textcolor{keywordtype}{double} \hyperlink{a00009_a4b9e5de00a02c6f77e4308ed209f0cc0}{workRadSq} = 144.0; 
00321     
\hypertarget{a00024_source_l00322}{}\hyperlink{a00009_ac2d1087cd0cc45ef71c77aa20b41ceda}{00322}     \textcolor{keyword}{const} uchar \hyperlink{a00009_ac2d1087cd0cc45ef71c77aa20b41ceda}{ccwCS} = 2;          
\hypertarget{a00024_source_l00323}{}\hyperlink{a00009_a67b2528edcaa375aefa1fb4117576665}{00323}     \textcolor{keyword}{const} uchar \hyperlink{a00009_a67b2528edcaa375aefa1fb4117576665}{cwCS} = 2;           
00324     
\hypertarget{a00024_source_l00325}{}\hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{00325}     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum} = 4;     
00326     
\hypertarget{a00024_source_l00328}{}\hyperlink{a00009_a232fd9d19e8f1be1d42b5801460137c6}{00328}     QVector4D \hyperlink{a00009_a232fd9d19e8f1be1d42b5801460137c6}{posStart} = QVector4D(11.5, 0.0f, -20, 150); 
\hypertarget{a00024_source_l00330}{}\hyperlink{a00009_a22328f2a08b4a154a275242ee185aebf}{00330}     QVector4D \hyperlink{a00009_a22328f2a08b4a154a275242ee185aebf}{posIdle} = QVector4D(0.0f, 0.0f, -20, 150);
\hypertarget{a00024_source_l00332}{}\hyperlink{a00009_a86b38e336a177d6dd31401af98b07172}{00332}     \textcolor{keywordtype}{double} \hyperlink{a00009_a86b38e336a177d6dd31401af98b07172}{workHeigh} = -25.0;
00333     
\hypertarget{a00024_source_l00335}{}\hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{00335}     QVector4D \hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{\_axis};
00336     
\hypertarget{a00024_source_l00338}{}\hyperlink{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{00338}     QVector < bool > \hyperlink{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{\_buts};
00339     
\hypertarget{a00024_source_l00341}{}\hyperlink{a00009_a9fccfd415e2e55c8abef7fcc6535af30}{00341}     \textcolor{keywordtype}{int} \hyperlink{a00009_a9fccfd415e2e55c8abef7fcc6535af30}{\_cBaud};
00342     
\hypertarget{a00024_source_l00344}{}\hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{00344}     QWaitCondition \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\_cond};
00345         
\hypertarget{a00024_source_l00347}{}\hyperlink{a00009_ab52437b31a433c427a6c050f2b1cc959}{00347}     QString \hyperlink{a00009_ab52437b31a433c427a6c050f2b1cc959}{\_cPort};
00348     
\hypertarget{a00024_source_l00350}{}\hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{00350}     \textcolor{keywordtype}{bool} \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged};
00351     
\hypertarget{a00024_source_l00353}{}\hyperlink{a00009_ad06a87d9f22914fd2597c939a3eb61cd}{00353}     QVector< QVector< Dominoe > > \hyperlink{a00009_ad06a87d9f22914fd2597c939a3eb61cd}{\_dominoe};
00354     
\hypertarget{a00024_source_l00356}{}\hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{00356}     \textcolor{keywordtype}{bool} \hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{\_end};
00357     
\hypertarget{a00024_source_l00359}{}\hyperlink{a00009_a5a3c1e2c09b76890790458b9d0469714}{00359}     \textcolor{keywordtype}{bool} \hyperlink{a00009_a5a3c1e2c09b76890790458b9d0469714}{\_enter};
00360     
\hypertarget{a00024_source_l00362}{}\hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{00362}     \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode} \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod};
00363     
\hypertarget{a00024_source_l00365}{}\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{00365}     QMutex \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex};
00366     
\hypertarget{a00024_source_l00368}{}\hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{00368}     \textcolor{keywordtype}{bool} \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause};
00369     
\hypertarget{a00024_source_l00371}{}\hyperlink{a00009_a6ad7cef9e9ac7454399871260e3693d4}{00371}     QVector4D \hyperlink{a00009_a6ad7cef9e9ac7454399871260e3693d4}{\_pos};
00372     
\hypertarget{a00024_source_l00374}{}\hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{00374}     \textcolor{keywordtype}{int} \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00375     
\hypertarget{a00024_source_l00377}{}\hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{00377}     QVector< Servo > \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos};
00378     
\hypertarget{a00024_source_l00380}{}\hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{00380}     QString \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00381     
\hypertarget{a00024_source_l00383}{}\hyperlink{a00009_a6e803432db01b10ed975132315280fd3}{00383}     \textcolor{keywordtype}{bool} \hyperlink{a00009_a6e803432db01b10ed975132315280fd3}{\_sPortChanged};
00384     
\hypertarget{a00024_source_l00386}{}\hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{00386}     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed};
00387     
\hypertarget{a00024_source_l00389}{}\hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{00389}     \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9c}{Status} \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status};
00390     
00392     \textcolor{keywordtype}{bool} \hyperlink{a00009_a85e5ae874d5e877b94a4a1cc78fe9598}{isPosAvailable}(\textcolor{keyword}{const} QVector<Servo> &S, \textcolor{keyword}{const} QVector<double> &D, 
00393                         \textcolor{keyword}{const} QVector3D &newPos, \textcolor{keywordtype}{double} err);
00394     
00395     \textcolor{keywordtype}{bool} \hyperlink{a00009_a7a58c195c66f7d668b9344b82c7ac631}{isReady}(\textcolor{keyword}{const} QVector<Servo> &S, \textcolor{keyword}{const} QVector3D &pos, \textcolor{keywordtype}{double} err);
00396     
00398     \textcolor{keywordtype}{void} \hyperlink{a00009_aeeb31b85abf7eb5c701853a6d25e51e0}{run}();
00399     
00401     \textcolor{keywordtype}{void} \hyperlink{a00009_a2b9f97473d19a7defaed3451bc830f79}{setAngles}(\textcolor{keyword}{const} QVector3D &pos, 
00402                    QVector<double> &D);
00403     
00405     \textcolor{keywordtype}{double} \hyperlink{a00009_add4637d917a772c4c01a43b5b66da2be}{singleAngle}(\textcolor{keywordtype}{double} x0, \textcolor{keywordtype}{double} y0, \textcolor{keywordtype}{double} z0);
00406     
00407 \};
00408 
00409 \textcolor{preprocessor}{#endif // SERVOTHREAD\_H}
\end{DoxyCode}
