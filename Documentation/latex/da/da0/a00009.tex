\hypertarget{a00009}{}\subsection{Servo\+Thread Class Reference}
\label{a00009}\index{Servo\+Thread@{Servo\+Thread}}


The \hyperlink{a00009}{Servo\+Thread}\textquotesingle{}s class handles the comunication between the delta robot servos and the P\+C.  




{\ttfamily \#include $<$servothread.\+h$>$}



Inheritance diagram for Servo\+Thread\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=150pt]{d6/d42/a00043}
\end{center}
\end{figure}


Collaboration diagram for Servo\+Thread\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=150pt]{d5/df9/a00044}
\end{center}
\end{figure}
\subsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{a00002}{Dominoe}
\begin{DoxyCompactList}\small\item\em Struct to handle the dominoe pieces. \end{DoxyCompactList}\item 
struct \hyperlink{a00007}{Servo}
\begin{DoxyCompactList}\small\item\em Struct for the \hyperlink{a00001}{A\+X12} servos. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode} \{ \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5a7473f982355e53004aa4ec48482e0390}{Controlled}, 
\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5ab07aa520bedb6453a76f5f05207bfc2c}{Manual}, 
\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5aa4bd68ae9816441348750401b067bdf2}{Reset}
 \}
\begin{DoxyCompactList}\small\item\em Contains the working mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Signals}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{a00009_a907b3805d113d09a945eb8f8d87851a7}{mode\+Changed} (\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode})
\begin{DoxyCompactList}\small\item\em To show the change of a mode. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{status\+Bar} (Q\+String, int)
\begin{DoxyCompactList}\small\item\em Emmitted when the status bar must be changed. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00009_af021de9817b11968dd627186e9e05a71}{Servo\+Thread} ()
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\hyperlink{a00009_a0c7ac1f603a247eac91d9780ad50f5fa}{$\sim$\+Servo\+Thread} ()
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
void \hyperlink{a00009_aaa273318ffee5ba270cdaacba3f263f8}{end} ()
\begin{DoxyCompactList}\small\item\em Ends the execution. \end{DoxyCompactList}\item 
Q\+Vector4\+D \hyperlink{a00009_a19ad0fe74d9f35220bf2864dbcecce2a}{get\+Current\+Pos} ()
\begin{DoxyCompactList}\small\item\em Returns the current position. \end{DoxyCompactList}\item 
int \hyperlink{a00009_af2c9e71c33e15937e72703d859cd7147}{get\+Servo\+Baud} ()
\begin{DoxyCompactList}\small\item\em Returns the current servo Baud rate. \end{DoxyCompactList}\item 
Q\+String \hyperlink{a00009_a3fae25aeac390640192ceb38e32dae40}{get\+Servo\+Port} ()
\begin{DoxyCompactList}\small\item\em Returns the current servo Port. \end{DoxyCompactList}\item 
void \hyperlink{a00009_afcf834d93f1ac9663d6ebaab820e5f74}{get\+Servo\+Port\+Info} (Q\+String \&port, int \&baud)
\begin{DoxyCompactList}\small\item\em Returns both servo Port and baud Rate. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a5fd8ef13314428f5ba7646730cc58f1c}{get\+Servos\+Info} (Q\+Vector$<$ \hyperlink{a00007}{Servo} $>$ \&V)
\begin{DoxyCompactList}\small\item\em Returns the servos info, with all its load and current position. \end{DoxyCompactList}\item 
Q\+Vector$<$ \hyperlink{a00007}{Servo} $>$ \hyperlink{a00009_a3d58189cdeddfb828856f192607f68d2}{get\+Servos\+Info} ()
\begin{DoxyCompactList}\small\item\em Overloaded function to get the servo info. \end{DoxyCompactList}\item 
int \hyperlink{a00009_ad6ead0ac6fce4539d4b0ff5a3e18ac38}{get\+Servos\+Num} ()
\begin{DoxyCompactList}\small\item\em Returns the number of servos to handle. \end{DoxyCompactList}\item 
int \hyperlink{a00009_a6af364effc9c52c0acec7d00a2c3d262}{get\+Speed} ()
\begin{DoxyCompactList}\small\item\em Returns the current speed. \end{DoxyCompactList}\item 
bool \hyperlink{a00009_ae520ccab8a81bf7df0a6a8ad3b7fbaae}{is\+Active} ()
\begin{DoxyCompactList}\small\item\em Returns true if the servos are active. \end{DoxyCompactList}\item 
Q\+Mutex $\ast$ \hyperlink{a00009_a82d074ab2c445470a6f49e2935bf6a8e}{mutex} ()
\begin{DoxyCompactList}\small\item\em Returns the mutex used in the thread. \end{DoxyCompactList}\item 
void \hyperlink{a00009_ae0d4a59954aafbe8cd85f9326e4fcdd0}{pause} ()
\begin{DoxyCompactList}\small\item\em Pauses the execution. \end{DoxyCompactList}\item 
void \hyperlink{a00009_aaa60ec35320c1c3de691f3a00cd638cb}{read} (Q\+String file)
\begin{DoxyCompactList}\small\item\em Reads and loads the data from the selected file. \end{DoxyCompactList}\item 
void \hyperlink{a00009_ae236c55f7d673653d329e1655df349a2}{read\+Path} (Q\+String file)
\begin{DoxyCompactList}\small\item\em Reads the path where to put the selected pieces. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a4f7371fed61d98cf6f128876e8fa518d}{reset} ()
\begin{DoxyCompactList}\small\item\em Resets to default positions (used when the mode changes or when some data has changed. \end{DoxyCompactList}\item 
void \hyperlink{a00009_af97b6a355e9278e02fbe8c36e144ed33}{set\+Mode} (\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode} m)
\begin{DoxyCompactList}\small\item\em Sets the current working mode. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a8497ea56991b620981ce1fbf53d9ebdb}{set\+Data} (Q\+Vector$<$ float $>$ \&a\+V, Q\+Vector$<$ bool $>$ \&buts)
\begin{DoxyCompactList}\small\item\em Adds the loaded data. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a009d3d1b99007b14fadb49996fac49d6}{set\+Servo\+Baud} (unsigned int baud)
\begin{DoxyCompactList}\small\item\em Sets the servos port baud rate. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a144e31105019d833f59ca2eba012e638}{set\+Servo\+Port} (Q\+String \&port)
\begin{DoxyCompactList}\small\item\em Sets the servos port. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a76af3e89d1a8705426584bedb0624909}{set\+Servo\+Port\+Info} (Q\+String \&port, unsigned int baud)
\begin{DoxyCompactList}\small\item\em Sets the servos port info, data and selected port. \end{DoxyCompactList}\item 
void \hyperlink{a00009_ac3471e5020f5d9babd3f2ff7b3b82aca}{set\+S\+I\+D} (Q\+Vector$<$ int $>$ \&V)
\begin{DoxyCompactList}\small\item\em Sets the servos I\+D. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a906ea2c67acbffb3e8dedabc03288992}{set\+Speed} (unsigned char speed)
\begin{DoxyCompactList}\small\item\em Sets the servos speed. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a5f32574f843d76deffec45995028389b}{wake\+Up} ()
\begin{DoxyCompactList}\small\item\em Continues program\textquotesingle{}s execution. \end{DoxyCompactList}\item 
void \hyperlink{a00009_aca68fe85a100a052c4d41f0fa88cc152}{write} (Q\+String file)
\begin{DoxyCompactList}\small\item\em Writes data to the selected directory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{a00009_aeccce0ac6a969e2ee7cbe91687e2d085}{Version} \{ \hyperlink{a00009_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{v\+\_\+1\+\_\+0}
 \}
\begin{DoxyCompactList}\small\item\em Enum containing all the save file versions. \end{DoxyCompactList}\item 
enum \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9c}{Status} \{ \\*
\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca1dad1d6f2c4b2b0a2eb62a938a9e7f51}{begin}, 
\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caf04ef179dc6409795e9d3ade571c3515}{take}, 
\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caaddba813e34d7dd76102738562a90054}{waiting}, 
\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca78f8ef8a596e79d3e778ef9052461658}{rotate}, 
\\*
\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9cac8deab3874847d5e02a4593a81de8ba3}{going}, 
\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca08a8e15b95d1cf505aab103927b3f832}{ending}
 \}
\begin{DoxyCompactList}\small\item\em Contains the available status for the Controlled mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{a00009_a6f6035054ecb8fe51bcdacae5da7cb0e}{is\+Pos\+Available} (const Q\+Vector4\+D \&new\+Pos)
\begin{DoxyCompactList}\small\item\em Returns true if the position is available. \end{DoxyCompactList}\item 
bool \hyperlink{a00009_a1d96ca800864243478463b0306ed74d7}{is\+Ready} (const Q\+Vector$<$ double $>$ \&S, const Q\+Vector4\+D \&pos, double err)
\item 
void \hyperlink{a00009_aeeb31b85abf7eb5c701853a6d25e51e0}{run} ()
\begin{DoxyCompactList}\small\item\em Used to create another thread. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a61d2ed44bb73cd337aa81963cb0ef858}{set\+Angles} (const Q\+Vector4\+D \&pos, Q\+Vector$<$ double $>$ \&D)
\begin{DoxyCompactList}\small\item\em Used to calculate the servos angles. \end{DoxyCompactList}\item 
void \hyperlink{a00009_a5271acc6d57f9c8c9a92a032851ca135}{set\+Goal\+Position} (const Q\+Vector$<$ int $>$ \&I\+D, const Q\+Vector$<$ double $>$ \&pos, \hyperlink{a00004}{dynamixel} \&dxl)
\item 
double \hyperlink{a00009_add4637d917a772c4c01a43b5b66da2be}{single\+Angle} (double x0, double y0, double z0)
\begin{DoxyCompactList}\small\item\em Calculates the angle of one servo in the selected position. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const double \hyperlink{a00009_a86dc58ff23326f939cd6fb610ac90d53}{cos60} = 0.\+5
\begin{DoxyCompactList}\small\item\em Contains the cosinus of 60. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60} = sqrt(3)/2
\begin{DoxyCompactList}\small\item\em Contains the sinus of 60. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a} = 11.\+6
\begin{DoxyCompactList}\small\item\em The arm length. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b} = 22.\+648
\begin{DoxyCompactList}\small\item\em The forearm length. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a6281142e50115dd8c914c14cfae6f90d}{L1} = 5.\+499
\begin{DoxyCompactList}\small\item\em The base center length. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} = 6.\+000
\begin{DoxyCompactList}\small\item\em The clamp support center lenght. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{max\+Err} = 3.\+0
\begin{DoxyCompactList}\small\item\em Max available error. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a9af4e0214b1b5c64978bbef49cde6d3c}{min\+Angle} = 60.\+0
\begin{DoxyCompactList}\small\item\em Minimum servo angle. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a77cc2aed4eff12967e346cb64f6be192}{max\+Angle} = 240.\+0
\begin{DoxyCompactList}\small\item\em Maximum servo angle. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a4b9e5de00a02c6f77e4308ed209f0cc0}{work\+Rad\+Sq} = 144.\+0
\begin{DoxyCompactList}\small\item\em Working radius squared. \end{DoxyCompactList}\item 
const uchar \hyperlink{a00009_ac2d1087cd0cc45ef71c77aa20b41ceda}{ccw\+C\+S} = 2
\begin{DoxyCompactList}\small\item\em The Counter Clock Wise Compliance Slope. \end{DoxyCompactList}\item 
const uchar \hyperlink{a00009_a67b2528edcaa375aefa1fb4117576665}{cw\+C\+S} = 2
\begin{DoxyCompactList}\small\item\em The Clock Wise Compliance Slope. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a53758fdbbee450ab4cd5a3432725f056}{work\+Heigh} = 23.\+3
\begin{DoxyCompactList}\small\item\em Working heigh. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_aee236c1b7ec8fb4c35d7930d9393f643}{idle\+Heigh} = 22.\+0
\begin{DoxyCompactList}\small\item\em Idle heigh. \end{DoxyCompactList}\item 
const double \hyperlink{a00009_a9ca211d5d711c959689afd7fff5a897a}{desc\+Heigh} \mbox{[}3\mbox{]} = \{ 23.\+0, 22.\+7, 22.\+3 \}
\begin{DoxyCompactList}\small\item\em Descent height. \end{DoxyCompactList}\item 
const Q\+Vector4\+D \hyperlink{a00009_a67cca86496c9826987f2c543adf788be}{pos\+Start} = Q\+Vector4\+D(11.\+5, 0.\+0f, idle\+Heigh, 150)
\begin{DoxyCompactList}\small\item\em Starting position for the controlled mode. \end{DoxyCompactList}\item 
const Q\+Vector4\+D \hyperlink{a00009_a2f5ebef53b31216cb54235264ba9f8d0}{pos\+Idle} = Q\+Vector4\+D(0.\+0f, 0.\+0f, idle\+Heigh, 150)
\begin{DoxyCompactList}\small\item\em Idle position. \end{DoxyCompactList}\item 
Q\+Vector4\+D \hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{\+\_\+axis}
\begin{DoxyCompactList}\small\item\em Contains the axis value. \end{DoxyCompactList}\item 
Q\+Vector$<$ bool $>$ \hyperlink{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{\+\_\+buts}
\begin{DoxyCompactList}\small\item\em Contains the buttons value. \end{DoxyCompactList}\item 
int \hyperlink{a00009_a9fccfd415e2e55c8abef7fcc6535af30}{\+\_\+c\+Baud}
\begin{DoxyCompactList}\small\item\em Contains the baud rate used to comunicate with the clamp. \end{DoxyCompactList}\item 
Q\+Wait\+Condition \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\+\_\+cond}
\begin{DoxyCompactList}\small\item\em To start and pause the thread. \end{DoxyCompactList}\item 
Q\+String \hyperlink{a00009_ab52437b31a433c427a6c050f2b1cc959}{\+\_\+c\+Port}
\begin{DoxyCompactList}\small\item\em Contains the selected com port used to comunitate with the clamp. \end{DoxyCompactList}\item 
bool \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\+\_\+d\+Changed}
\begin{DoxyCompactList}\small\item\em True if the data changes. \end{DoxyCompactList}\item 
Q\+Vector$<$ Q\+Vector$<$ \hyperlink{a00002}{Dominoe} $>$ $>$ \hyperlink{a00009_ad06a87d9f22914fd2597c939a3eb61cd}{\+\_\+dominoe}
\begin{DoxyCompactList}\small\item\em Contains all the dominoes information. \end{DoxyCompactList}\item 
bool \hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{\+\_\+end}
\begin{DoxyCompactList}\small\item\em True when we must end executino. \end{DoxyCompactList}\item 
bool \hyperlink{a00009_a5a3c1e2c09b76890790458b9d0469714}{\+\_\+enter}
\begin{DoxyCompactList}\small\item\em True if the enter key is pressed. \end{DoxyCompactList}\item 
\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode} \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\+\_\+mod}
\begin{DoxyCompactList}\small\item\em Contains the working mode. \end{DoxyCompactList}\item 
Q\+Mutex \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\+\_\+mutex}
\begin{DoxyCompactList}\small\item\em To prevent memory errors between threads. \end{DoxyCompactList}\item 
bool \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\+\_\+pause}
\begin{DoxyCompactList}\small\item\em Pauses the execution of the thread. \end{DoxyCompactList}\item 
Q\+Vector4\+D \hyperlink{a00009_a6ad7cef9e9ac7454399871260e3693d4}{\+\_\+pos}
\begin{DoxyCompactList}\small\item\em Contains the current position to show to the window. \end{DoxyCompactList}\item 
int \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\+\_\+s\+Baud}
\begin{DoxyCompactList}\small\item\em Contains the used baud rate to comunicate with the servos. \end{DoxyCompactList}\item 
Q\+Vector$<$ \hyperlink{a00007}{Servo} $>$ \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\+\_\+servos}
\begin{DoxyCompactList}\small\item\em Contains the servos information. \end{DoxyCompactList}\item 
Q\+String \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\+\_\+s\+Port}
\begin{DoxyCompactList}\small\item\em Contains the selected com port used in the comunication with servos. \end{DoxyCompactList}\item 
bool \hyperlink{a00009_a6e803432db01b10ed975132315280fd3}{\+\_\+s\+Port\+Changed}
\begin{DoxyCompactList}\small\item\em True if the servos port changes. \end{DoxyCompactList}\item 
unsigned int \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\+\_\+s\+Speed}
\begin{DoxyCompactList}\small\item\em Speed of the robot. \end{DoxyCompactList}\item 
\hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9c}{Status} \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\+\_\+status}
\begin{DoxyCompactList}\small\item\em Current status. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const int \hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\+\_\+s\+Num} = 4
\begin{DoxyCompactList}\small\item\em Number of servos to manage. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
The \hyperlink{a00009}{Servo\+Thread}\textquotesingle{}s class handles the comunication between the delta robot servos and the P\+C. 



\subsubsection{Member Enumeration Documentation}
\hypertarget{a00009_a8d581034e60792a9995d44065f6140a5}{}\index{Servo\+Thread@{Servo\+Thread}!Mode@{Mode}}
\index{Mode@{Mode}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{Mode}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Servo\+Thread\+::\+Mode}}\label{a00009_a8d581034e60792a9995d44065f6140a5}


Contains the working mode. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{Controlled@{Controlled}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!Controlled@{Controlled}}\item[{\em 
\hypertarget{a00009_a8d581034e60792a9995d44065f6140a5a7473f982355e53004aa4ec48482e0390}{}Controlled\label{a00009_a8d581034e60792a9995d44065f6140a5a7473f982355e53004aa4ec48482e0390}
}]\index{Manual@{Manual}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!Manual@{Manual}}\item[{\em 
\hypertarget{a00009_a8d581034e60792a9995d44065f6140a5ab07aa520bedb6453a76f5f05207bfc2c}{}Manual\label{a00009_a8d581034e60792a9995d44065f6140a5ab07aa520bedb6453a76f5f05207bfc2c}
}]\index{Reset@{Reset}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!Reset@{Reset}}\item[{\em 
\hypertarget{a00009_a8d581034e60792a9995d44065f6140a5aa4bd68ae9816441348750401b067bdf2}{}Reset\label{a00009_a8d581034e60792a9995d44065f6140a5aa4bd68ae9816441348750401b067bdf2}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
00095     \{
00096         \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5a7473f982355e53004aa4ec48482e0390}{Controlled},
00097         \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5ab07aa520bedb6453a76f5f05207bfc2c}{Manual},
00098         \hyperlink{a00009_a8d581034e60792a9995d44065f6140a5aa4bd68ae9816441348750401b067bdf2}{Reset}
00099     \};
\end{DoxyCode}
\hypertarget{a00009_a3c23985ab5e94c14f5e6fca0a9338f9c}{}\index{Servo\+Thread@{Servo\+Thread}!Status@{Status}}
\index{Status@{Status}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{Status}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Servo\+Thread\+::\+Status}\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a3c23985ab5e94c14f5e6fca0a9338f9c}


Contains the available status for the Controlled mode. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{begin@{begin}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!begin@{begin}}\item[{\em 
\hypertarget{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca1dad1d6f2c4b2b0a2eb62a938a9e7f51}{}begin\label{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca1dad1d6f2c4b2b0a2eb62a938a9e7f51}
}]\index{take@{take}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!take@{take}}\item[{\em 
\hypertarget{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caf04ef179dc6409795e9d3ade571c3515}{}take\label{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caf04ef179dc6409795e9d3ade571c3515}
}]\index{waiting@{waiting}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!waiting@{waiting}}\item[{\em 
\hypertarget{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caaddba813e34d7dd76102738562a90054}{}waiting\label{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caaddba813e34d7dd76102738562a90054}
}]\index{rotate@{rotate}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!rotate@{rotate}}\item[{\em 
\hypertarget{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca78f8ef8a596e79d3e778ef9052461658}{}rotate\label{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca78f8ef8a596e79d3e778ef9052461658}
}]\index{going@{going}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!going@{going}}\item[{\em 
\hypertarget{a00009_a3c23985ab5e94c14f5e6fca0a9338f9cac8deab3874847d5e02a4593a81de8ba3}{}going\label{a00009_a3c23985ab5e94c14f5e6fca0a9338f9cac8deab3874847d5e02a4593a81de8ba3}
}]\index{ending@{ending}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!ending@{ending}}\item[{\em 
\hypertarget{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca08a8e15b95d1cf505aab103927b3f832}{}ending\label{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca08a8e15b95d1cf505aab103927b3f832}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
00028                 \{
00029         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca1dad1d6f2c4b2b0a2eb62a938a9e7f51}{begin},
00030         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caf04ef179dc6409795e9d3ade571c3515}{take},
00031         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9caaddba813e34d7dd76102738562a90054}{waiting},
00032         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca78f8ef8a596e79d3e778ef9052461658}{rotate},
00033         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9cac8deab3874847d5e02a4593a81de8ba3}{going},
00034         \hyperlink{a00009_a3c23985ab5e94c14f5e6fca0a9338f9ca08a8e15b95d1cf505aab103927b3f832}{ending}
00035     \};
\end{DoxyCode}
\hypertarget{a00009_aeccce0ac6a969e2ee7cbe91687e2d085}{}\index{Servo\+Thread@{Servo\+Thread}!Version@{Version}}
\index{Version@{Version}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{Version}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Servo\+Thread\+::\+Version}\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_aeccce0ac6a969e2ee7cbe91687e2d085}


Enum containing all the save file versions. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{v\+\_\+1\+\_\+0@{v\+\_\+1\+\_\+0}!Servo\+Thread@{Servo\+Thread}}\index{Servo\+Thread@{Servo\+Thread}!v\+\_\+1\+\_\+0@{v\+\_\+1\+\_\+0}}\item[{\em 
\hypertarget{a00009_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{}v\+\_\+1\+\_\+0\label{a00009_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}
}]\end{description}
\end{Desc}

\begin{DoxyCode}
00023     \{
00024         \hyperlink{a00009_aeccce0ac6a969e2ee7cbe91687e2d085a319b6bf2cb120faeefbd0a5118ece7e3}{v\_1\_0}
00025     \};
\end{DoxyCode}


\subsubsection{Constructor \& Destructor Documentation}
\hypertarget{a00009_af021de9817b11968dd627186e9e05a71}{}\index{Servo\+Thread@{Servo\+Thread}!Servo\+Thread@{Servo\+Thread}}
\index{Servo\+Thread@{Servo\+Thread}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{Servo\+Thread}]{\setlength{\rightskip}{0pt plus 5cm}Servo\+Thread\+::\+Servo\+Thread (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{a00009_af021de9817b11968dd627186e9e05a71}


Default constructor. 


\begin{DoxyCode}
00004                          :
00005     \hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{\_axis}(0, 0, 0, 0),
00006     \hyperlink{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{\_buts}(XJoystick::ButtonCount),
00007     \hyperlink{a00009_a9fccfd415e2e55c8abef7fcc6535af30}{\_cBaud}(9600),
00008     \hyperlink{a00009_ab52437b31a433c427a6c050f2b1cc959}{\_cPort}(\textcolor{stringliteral}{"COM3"}),
00009     \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged}(\textcolor{keyword}{true}),
00010     \hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{\_end}(\textcolor{keyword}{false}),
00011     \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod}(Mode::Manual),
00012     \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause}(\textcolor{keyword}{true}),
00013     \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud}(1000000),
00014     \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}(\hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum}),
00015     \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort}(\textcolor{stringliteral}{"COM9"}),
00016     \hyperlink{a00009_a6e803432db01b10ed975132315280fd3}{\_sPortChanged}(\textcolor{keyword}{false}),
00017     \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed}(100),
00018     \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status}(Status::begin)
00019 \{
00020     \textcolor{keywordflow}{for} (Servo &s : \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}) s.ID = -1;
00021 \}
\end{DoxyCode}
\hypertarget{a00009_a0c7ac1f603a247eac91d9780ad50f5fa}{}\index{Servo\+Thread@{Servo\+Thread}!````~Servo\+Thread@{$\sim$\+Servo\+Thread}}
\index{````~Servo\+Thread@{$\sim$\+Servo\+Thread}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{$\sim$\+Servo\+Thread}]{\setlength{\rightskip}{0pt plus 5cm}Servo\+Thread\+::$\sim$\+Servo\+Thread (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{a00009_a0c7ac1f603a247eac91d9780ad50f5fa}


Default destructor. 


\begin{DoxyCode}
00024 \{
00025     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00026     \hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{\_end} = \textcolor{keyword}{true};
00027     \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00028     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00029     wait();
00030 \}
\end{DoxyCode}


\subsubsection{Member Function Documentation}
\hypertarget{a00009_aaa273318ffee5ba270cdaacba3f263f8}{}\index{Servo\+Thread@{Servo\+Thread}!end@{end}}
\index{end@{end}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{end}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::end (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_aaa273318ffee5ba270cdaacba3f263f8}


Ends the execution. 


\begin{DoxyCode}
00109     \{
00110         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00111         \hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{\_end} = \textcolor{keyword}{true};
00112         \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00113         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00114         
00115         wait();
00116     \}
\end{DoxyCode}
\hypertarget{a00009_a19ad0fe74d9f35220bf2864dbcecce2a}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Current\+Pos@{get\+Current\+Pos}}
\index{get\+Current\+Pos@{get\+Current\+Pos}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Current\+Pos}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector4\+D Servo\+Thread\+::get\+Current\+Pos (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a19ad0fe74d9f35220bf2864dbcecce2a}


Returns the current position. 


\begin{DoxyCode}
00120     \{
00121         QMutexLocker m(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00122         \textcolor{keywordflow}{return} \hyperlink{a00009_a6ad7cef9e9ac7454399871260e3693d4}{\_pos};
00123     \}
\end{DoxyCode}
\hypertarget{a00009_af2c9e71c33e15937e72703d859cd7147}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servo\+Baud@{get\+Servo\+Baud}}
\index{get\+Servo\+Baud@{get\+Servo\+Baud}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Servo\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::get\+Servo\+Baud (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_af2c9e71c33e15937e72703d859cd7147}


Returns the current servo Baud rate. 


\begin{DoxyCode}
00127     \{
00128         QMutexLocker mL(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00129         \textcolor{keywordflow}{return} \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00130     \}
\end{DoxyCode}
\hypertarget{a00009_a3fae25aeac390640192ceb38e32dae40}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servo\+Port@{get\+Servo\+Port}}
\index{get\+Servo\+Port@{get\+Servo\+Port}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Servo\+Port}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Servo\+Thread\+::get\+Servo\+Port (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a3fae25aeac390640192ceb38e32dae40}


Returns the current servo Port. 


\begin{DoxyCode}
00134     \{
00135         QMutexLocker mL(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00136         \textcolor{keywordflow}{return} \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00137     \}
\end{DoxyCode}
\hypertarget{a00009_afcf834d93f1ac9663d6ebaab820e5f74}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servo\+Port\+Info@{get\+Servo\+Port\+Info}}
\index{get\+Servo\+Port\+Info@{get\+Servo\+Port\+Info}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Servo\+Port\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::get\+Servo\+Port\+Info (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{port, }
\item[{int \&}]{baud}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_afcf834d93f1ac9663d6ebaab820e5f74}


Returns both servo Port and baud Rate. 


\begin{DoxyCode}
00141     \{
00142         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00143         baud = \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00144         port = \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00145         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00146     \}
\end{DoxyCode}
\hypertarget{a00009_a5fd8ef13314428f5ba7646730cc58f1c}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servos\+Info@{get\+Servos\+Info}}
\index{get\+Servos\+Info@{get\+Servos\+Info}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Servos\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::get\+Servos\+Info (
\begin{DoxyParamCaption}
\item[{Q\+Vector$<$ {\bf Servo} $>$ \&}]{V}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a5fd8ef13314428f5ba7646730cc58f1c}


Returns the servos info, with all its load and current position. 


\begin{DoxyParams}{Parameters}
{\em V} & \hyperlink{a00007}{Servo} vector to store information \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00151     \{
00152         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00153         V = \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos};
00154         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00155     \}
\end{DoxyCode}
\hypertarget{a00009_a3d58189cdeddfb828856f192607f68d2}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servos\+Info@{get\+Servos\+Info}}
\index{get\+Servos\+Info@{get\+Servos\+Info}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Servos\+Info}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<${\bf Servo}$>$ Servo\+Thread\+::get\+Servos\+Info (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a3d58189cdeddfb828856f192607f68d2}


Overloaded function to get the servo info. 


\begin{DoxyCode}
00159     \{
00160         QMutexLocker mL(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00161         \textcolor{keywordflow}{return} \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos};
00162     \}
\end{DoxyCode}
\hypertarget{a00009_ad6ead0ac6fce4539d4b0ff5a3e18ac38}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Servos\+Num@{get\+Servos\+Num}}
\index{get\+Servos\+Num@{get\+Servos\+Num}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Servos\+Num}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::get\+Servos\+Num (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_ad6ead0ac6fce4539d4b0ff5a3e18ac38}


Returns the number of servos to handle. 


\begin{DoxyCode}
00165 \{ \textcolor{keywordflow}{return} \hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum}; \}
\end{DoxyCode}
\hypertarget{a00009_a6af364effc9c52c0acec7d00a2c3d262}{}\index{Servo\+Thread@{Servo\+Thread}!get\+Speed@{get\+Speed}}
\index{get\+Speed@{get\+Speed}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{get\+Speed}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::get\+Speed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a6af364effc9c52c0acec7d00a2c3d262}


Returns the current speed. 


\begin{DoxyCode}
00169     \{
00170         QMutexLocker m(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00171         \textcolor{keywordflow}{return} \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed};
00172     \}
\end{DoxyCode}
\hypertarget{a00009_ae520ccab8a81bf7df0a6a8ad3b7fbaae}{}\index{Servo\+Thread@{Servo\+Thread}!is\+Active@{is\+Active}}
\index{is\+Active@{is\+Active}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{is\+Active}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::is\+Active (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_ae520ccab8a81bf7df0a6a8ad3b7fbaae}


Returns true if the servos are active. 


\begin{DoxyCode}
00176     \{
00177         QMutexLocker m(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00178         \textcolor{keywordflow}{return} not \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause};
00179     \}
\end{DoxyCode}
\hypertarget{a00009_a6f6035054ecb8fe51bcdacae5da7cb0e}{}\index{Servo\+Thread@{Servo\+Thread}!is\+Pos\+Available@{is\+Pos\+Available}}
\index{is\+Pos\+Available@{is\+Pos\+Available}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{is\+Pos\+Available}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::is\+Pos\+Available (
\begin{DoxyParamCaption}
\item[{const Q\+Vector4\+D \&}]{new\+Pos}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a6f6035054ecb8fe51bcdacae5da7cb0e}


Returns true if the position is available. 


\begin{DoxyCode}
00151 \{    
00152     \textcolor{keywordflow}{if} (newPos.toVector2D().lengthSquared() > \hyperlink{a00009_a4b9e5de00a02c6f77e4308ed209f0cc0}{workRadSq}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00153     
00154     QVector<double> D(4);
00155     this->\hyperlink{a00009_a61d2ed44bb73cd337aa81963cb0ef858}{setAngles}(newPos, D);
00156     
00157     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 3; ++i) \{
00158         \textcolor{keywordflow}{if} (qIsNaN(D[i])) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00159         \textcolor{keywordflow}{if} (D[i] > \hyperlink{a00009_a77cc2aed4eff12967e346cb64f6be192}{maxAngle} or D[i] < \hyperlink{a00009_a9af4e0214b1b5c64978bbef49cde6d3c}{minAngle}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00160     \}
00161     
00162     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00163 \}
\end{DoxyCode}
\hypertarget{a00009_a1d96ca800864243478463b0306ed74d7}{}\index{Servo\+Thread@{Servo\+Thread}!is\+Ready@{is\+Ready}}
\index{is\+Ready@{is\+Ready}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{is\+Ready}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::is\+Ready (
\begin{DoxyParamCaption}
\item[{const Q\+Vector$<$ double $>$ \&}]{S, }
\item[{const Q\+Vector4\+D \&}]{pos, }
\item[{double}]{err}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a1d96ca800864243478463b0306ed74d7}

\begin{DoxyCode}
00167 \{
00168     QVector<double> D(4);
00169     this->\hyperlink{a00009_a61d2ed44bb73cd337aa81963cb0ef858}{setAngles}(pos, D);
00170     
00171     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 3; ++i) \textcolor{keywordflow}{if} (abs(S[i] - D[i]) > err) \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00172     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00173 \}
\end{DoxyCode}
\hypertarget{a00009_a907b3805d113d09a945eb8f8d87851a7}{}\index{Servo\+Thread@{Servo\+Thread}!mode\+Changed@{mode\+Changed}}
\index{mode\+Changed@{mode\+Changed}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{mode\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::mode\+Changed (
\begin{DoxyParamCaption}
\item[{{\bf Mode}}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}\label{a00009_a907b3805d113d09a945eb8f8d87851a7}


To show the change of a mode. 

\hypertarget{a00009_a82d074ab2c445470a6f49e2935bf6a8e}{}\index{Servo\+Thread@{Servo\+Thread}!mutex@{mutex}}
\index{mutex@{mutex}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{mutex}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Mutex$\ast$ Servo\+Thread\+::mutex (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a82d074ab2c445470a6f49e2935bf6a8e}


Returns the mutex used in the thread. 


\begin{DoxyCode}
00182 \{ \textcolor{keywordflow}{return} &\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}; \}
\end{DoxyCode}
\hypertarget{a00009_ae0d4a59954aafbe8cd85f9326e4fcdd0}{}\index{Servo\+Thread@{Servo\+Thread}!pause@{pause}}
\index{pause@{pause}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{pause}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::pause (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_ae0d4a59954aafbe8cd85f9326e4fcdd0}


Pauses the execution. 


\begin{DoxyCode}
00186     \{
00187         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00188         \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause} = \textcolor{keyword}{true};
00189         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00190     \}
\end{DoxyCode}
\hypertarget{a00009_aaa60ec35320c1c3de691f3a00cd638cb}{}\index{Servo\+Thread@{Servo\+Thread}!read@{read}}
\index{read@{read}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{read}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::read (
\begin{DoxyParamCaption}
\item[{Q\+String}]{file}
\end{DoxyParamCaption}
)}\label{a00009_aaa60ec35320c1c3de691f3a00cd638cb}


Reads and loads the data from the selected file. 


\begin{DoxyParams}{Parameters}
{\em file} & Path to the selected file \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00033 \{
00034     \textcolor{comment}{// Opening file for reading}
00035     QFile f(file);
00036     \textcolor{keywordflow}{if} (!f.open(QIODevice::ReadOnly)) \{
00037         emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"Cannot read stored data"}, 2000);
00038         \textcolor{keywordflow}{return};
00039     \}
00040     QDataStream df(&f);
00041     
00042     QMutexLocker mL(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00043     
00044     \textcolor{keywordtype}{int} version;
00045     df >> version;
00046     \textcolor{keywordflow}{if} (version != Version::v\_1\_0) \{
00047         emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"Error opening file"}, 2000);
00048         \textcolor{keywordflow}{return};
00049     \}
00050     
00051     df >> \hyperlink{a00009_a9fccfd415e2e55c8abef7fcc6535af30}{\_cBaud} >> \hyperlink{a00009_ab52437b31a433c427a6c050f2b1cc959}{\_cPort} >> \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} >> \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} >> 
      \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed};
00052     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} en;
00053     df >> en;
00054     \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} = \textcolor{keyword}{static\_cast<}\hyperlink{a00009_a8d581034e60792a9995d44065f6140a5}{Mode}\textcolor{keyword}{>}(en);
00055     
00056     \textcolor{keywordtype}{int} size;
00057     df >> size;
00058     \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}.resize(size);
00059     \textcolor{keywordflow}{for} (Servo &s : \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}) df >> s.ID;
00060     \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00061     
00062 \}
\end{DoxyCode}
\hypertarget{a00009_ae236c55f7d673653d329e1655df349a2}{}\index{Servo\+Thread@{Servo\+Thread}!read\+Path@{read\+Path}}
\index{read\+Path@{read\+Path}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{read\+Path}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::read\+Path (
\begin{DoxyParamCaption}
\item[{Q\+String}]{file}
\end{DoxyParamCaption}
)}\label{a00009_ae236c55f7d673653d329e1655df349a2}


Reads the path where to put the selected pieces. 


\begin{DoxyParams}{Parameters}
{\em file} & Path to the file where to read the pieces \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00065 \{
00066     \textcolor{comment}{// Opening file for reading}
00067     QFile f(file);
00068     \textcolor{keywordflow}{if} (!f.open(QIODevice::ReadOnly)) \{
00069         emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"Error opening file"}, 2000);
00070         \textcolor{keywordflow}{return};
00071     \}
00072     
00073     QTextStream pF(&f);
00074     
00075     \textcolor{keywordtype}{int} size;
00076     pF >> size;
00077     QVector<Dominoe> temp(size);
00078     \textcolor{keywordflow}{for} (Dominoe &d : temp) pF >> d.X >> d.Y >> d.ori;
00079     std::sort(temp.begin(), temp.end());
00080     
00081     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00082     \textcolor{keywordtype}{double} sep = 0.8; \textcolor{comment}{// 2cm of separation}
00083     QVector2D ori(\hyperlink{a00009_a67cca86496c9826987f2c543adf788be}{posStart}.toVector2D());
00084     
00085     \hyperlink{a00009_ad06a87d9f22914fd2597c939a3eb61cd}{\_dominoe}.clear();
00086     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < temp.size(); ++i) \{
00087         QVector2D aux(temp[i].X, temp[i].Y);
00088         
00089         \textcolor{comment}{// Checking if its a vàlid position}
00090         QVector4D aux2(aux);
00091         aux2[2] = \hyperlink{a00009_a53758fdbbee450ab4cd5a3432725f056}{workHeigh};
00092         \textcolor{keywordflow}{if} (not this->\hyperlink{a00009_a6f6035054ecb8fe51bcdacae5da7cb0e}{isPosAvailable}(aux2)) \textcolor{keywordflow}{continue};
00093         
00094         \textcolor{keywordtype}{double} angle = temp[i].ori + 60.0;
00095         \textcolor{keywordflow}{if} (angle >= 180.0) angle -= 180.0;
00096         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (angle >= 360.0) angle -= 360.0;
00097         
00098         \textcolor{comment}{// Calculating direction vector}
00099         aux -= ori;
00100         \textcolor{keywordtype}{int} steps = aux.length()/sep; 
00101         
00102         QVector<Dominoe> V(steps + 1);
00103         
00104         \textcolor{comment}{// Initial point}
00105         V[0] = Dominoe(ori, angle);
00106         
00107         \textcolor{comment}{// Adding intermediate positions}
00108         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 1; j <= steps; ++j)\{                
00109             Dominoe dAux(j*aux/\textcolor{keywordtype}{double}(steps) + ori, angle);
00110             V[j] = dAux;
00111         \}
00112         \hyperlink{a00009_ad06a87d9f22914fd2597c939a3eb61cd}{\_dominoe}.push\_back(V);
00113     \}
00114     \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00115     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00116     
00117     f.close();
00118     
00119     emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"File loaded succesfully"}, 1000);
00120 \}
\end{DoxyCode}
\hypertarget{a00009_a4f7371fed61d98cf6f128876e8fa518d}{}\index{Servo\+Thread@{Servo\+Thread}!reset@{reset}}
\index{reset@{reset}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{reset}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::reset (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a4f7371fed61d98cf6f128876e8fa518d}


Resets to default positions (used when the mode changes or when some data has changed. 

\begin{DoxyPrecond}{Precondition}
The thread is sleeping 
\end{DoxyPrecond}

\begin{DoxyCode}
00204     \{ 
00205         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00206         \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} = Mode::Reset; 
00207         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00208     \}
\end{DoxyCode}
\hypertarget{a00009_aeeb31b85abf7eb5c701853a6d25e51e0}{}\index{Servo\+Thread@{Servo\+Thread}!run@{run}}
\index{run@{run}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{run}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::run (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_aeeb31b85abf7eb5c701853a6d25e51e0}


Used to create another thread. 


\begin{DoxyCode}
00176 \{
00177     \textcolor{comment}{// First initializations}
00178     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00179     \textcolor{keywordtype}{int} sBaud = \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00180     QString sPort = \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00181     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00182     
00183     \textcolor{comment}{// Serial port interface}
00184     \hyperlink{a00004}{dynamixel} dxl(sPort, sBaud);
00185     
00186     \textcolor{comment}{// Contains the servos comunication}
00187     QVector<AX12> A(4);
00188     
00189     \textcolor{comment}{// Contains the servos ID}
00190     QVector< int > ID(\hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum});
00191     
00192     \textcolor{comment}{// Contains the current servo data}
00193     QVector< double > S(\hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum});
00194     
00195     \textcolor{comment}{// Contains the servos angles}
00196     QVector<double> D(4);
00197     D[3] = 150.0;
00198     
00199     \textcolor{comment}{// First initialization}
00200     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00201     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < A.size(); ++i) \{
00202         A[i] = \hyperlink{a00001}{AX12}(&dxl);  
00203         A[i].setID(\hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].ID);
00204         ID[i] = \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].ID;
00205         A[i].setSpeed(\hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed});
00206         A[i].setComplianceSlope(\hyperlink{a00009_ac2d1087cd0cc45ef71c77aa20b41ceda}{ccwCS}, \hyperlink{a00009_a67b2528edcaa375aefa1fb4117576665}{cwCS});
00207     \}
00208     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00209     
00210     QVector4D pos(\hyperlink{a00009_a2f5ebef53b31216cb54235264ba9f8d0}{posIdle});
00211     QVector4D axis(0, 0, 0, 0);
00212     QVector< bool > buts;
00213     
00214     \textcolor{comment}{// Contains the domino number to put}
00215     \textcolor{keywordtype}{int} dom = 0;
00216     \textcolor{keywordtype}{int} pas = 0;
00217     \textcolor{keywordtype}{double} speed = 100.0;
00218     QVector< QVector< Dominoe > > Dom;
00219     
00220     \textcolor{comment}{// Main while}
00221     \textcolor{keywordflow}{while} (not \hyperlink{a00009_acca9896d1a2d1ef68527e6834f81c76c}{\_end}) \{
00222         
00223         \textcolor{comment}{// Pause}
00224         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00225         \textcolor{keywordflow}{if} (not \_end and \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause}) \{
00226             dxl.terminate();
00227             
00228             \textcolor{comment}{// Thread pause}
00229             \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wait(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00230             
00231             \textcolor{keywordflow}{if} (\_end) exit(0);
00232             dxl.initialize(sPort, sBaud);
00233         \}
00234         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00235         
00236         \textcolor{comment}{// Get current servo position}
00237         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 3; ++i) S[i] = A[i].\hyperlink{a00009_a19ad0fe74d9f35220bf2864dbcecce2a}{getCurrentPos}();
00238         \textcolor{keywordflow}{if} (\hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} == Mode::Manual) S[3] = A[3].getCurrentPos();
00239         
00240         
00241         \textcolor{comment}{/*********** MUTEX ***********/}
00242         \textcolor{comment}{// Handling changes of data}
00243         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00244         \textcolor{keywordflow}{if} (\hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged}) \{
00245             \textcolor{keywordflow}{if} (sPort != \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} or sBaud != \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud}) \{
00246                 sPort = \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort};
00247                 sBaud = \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud};
00248                 dxl.terminate();
00249                 dxl.initialize(sPort, sBaud);
00250             \}
00251             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < S.size(); ++i) \{
00252                 A[i].setID(\hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].ID);
00253                 ID[i] = \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].ID;
00254                 A[i].setSpeed(\hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed});
00255                 A[i].setComplianceSlope(\hyperlink{a00009_ac2d1087cd0cc45ef71c77aa20b41ceda}{ccwCS}, \hyperlink{a00009_a67b2528edcaa375aefa1fb4117576665}{cwCS});
00256             \}
00257             
00258             speed = \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed};
00259             Dom = \hyperlink{a00009_ad06a87d9f22914fd2597c939a3eb61cd}{\_dominoe};
00260             dom = 0;
00261             pas = 0;
00262             pos = \hyperlink{a00009_a2f5ebef53b31216cb54235264ba9f8d0}{posIdle};            
00263             this->\hyperlink{a00009_a61d2ed44bb73cd337aa81963cb0ef858}{setAngles}(pos, D);
00264             this->\hyperlink{a00009_a5271acc6d57f9c8c9a92a032851ca135}{setGoalPosition}(ID, D, dxl);
00265             \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{false};
00266         \}
00267 
00268         \textcolor{comment}{// Joystick and buttons update, must use mutex}
00269         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum}; ++i) \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].pos =  S[i];
00270         axis = \hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{\_axis};
00271         buts = \hyperlink{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{\_buts};
00272         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{bool} &\hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b} : \hyperlink{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{\_buts}) \hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b} = 0;
00273         \hyperlink{a00009_a6ad7cef9e9ac7454399871260e3693d4}{\_pos} = pos;
00274         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00275         
00276         
00277         \textcolor{comment}{/******** MODE ********/}
00278         \textcolor{comment}{// Main function with data updated}
00279         
00281         \textcolor{keywordflow}{if} (\hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} == Mode::Manual) \{
00282             QVector4D posAux = pos + 0.5*axis;
00283             
00284             \textcolor{keywordtype}{bool} ok = this->\hyperlink{a00009_a6f6035054ecb8fe51bcdacae5da7cb0e}{isPosAvailable}(posAux);
00285             ok &= this->\hyperlink{a00009_a1d96ca800864243478463b0306ed74d7}{isReady}(S, pos, \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr} + 5.0);
00286             \textcolor{keywordflow}{if} (ok) pos = posAux;    
00287         \} 
00289         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} == Mode::Controlled) \{
00290             \textcolor{keywordflow}{switch}(\hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status}) \{
00291             \textcolor{keywordflow}{case} Status::begin:
00292                 pos = \hyperlink{a00009_a67cca86496c9826987f2c543adf788be}{posStart};
00293                 \textcolor{keywordflow}{if} (this->\hyperlink{a00009_a1d96ca800864243478463b0306ed74d7}{isReady}(S, pos, \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr}))  \{
00294                     \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status} = Status::take;
00295                     QThread::msleep(500);
00296                 \}
00297                 \textcolor{keywordflow}{break};
00298                 
00299             \textcolor{keywordflow}{case} Status::take:
00300                 pos[2] = \hyperlink{a00009_a53758fdbbee450ab4cd5a3432725f056}{workHeigh};
00301                 \textcolor{keywordflow}{if} (this->\hyperlink{a00009_a1d96ca800864243478463b0306ed74d7}{isReady}(S, pos, \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr})) \{
00302                     emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"Esperant peça"}, -1);
00303                     \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status} = Status::waiting;
00304                 \}
00305                 \textcolor{keywordflow}{break};
00306                 
00307             \textcolor{keywordflow}{case} Status::waiting:
00308                 \textcolor{keywordflow}{if} (buts[0]) \{
00309                     pas = 0;
00310                     \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status} = Status::rotate;
00311                     emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"Girant!"}, -1);
00312                     
00313                     \textcolor{keywordflow}{for} (\hyperlink{a00001}{AX12} &\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a} : A) \hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a}.setSpeed(speed/3.5);
00314                 \}
00315                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{break};
00316                 
00317             \textcolor{keywordflow}{case} Status::rotate:
00318             \{
00319                 S[3] = A[3].getCurrentPos();
00320                 pos[3] = Dom[dom][0].ori;
00321                 \textcolor{keywordtype}{double} aux = abs(S[3] - Dom[dom][0].ori);
00322                 \textcolor{keywordflow}{if} (aux < \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr}) \{
00323                     \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status} = Status::going;
00324                     QThread::msleep(1000);
00325                     emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"Posicionant"}, -1);
00326                 \}
00327             \}
00328                 \textcolor{keywordflow}{break};
00329                 
00330             \textcolor{keywordflow}{case} Status::going:
00331             \{
00332                 Dominoe &domi = Dom[dom][pas];
00333                 pos = QVector4D (domi.X, domi.Y, \hyperlink{a00009_a53758fdbbee450ab4cd5a3432725f056}{workHeigh}, domi.ori);
00334                 \textcolor{keywordtype}{double} err;
00335                 pas == Dom[dom].size() - 1 ? err = \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr} : err = 2*\hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr};
00336                 
00337                 \textcolor{keywordflow}{if} (this->\hyperlink{a00009_a1d96ca800864243478463b0306ed74d7}{isReady}(S, pos, err)) \{
00338                     ++pas;
00339                     \textcolor{keywordflow}{if} (pas == Dom[dom].size()) \{
00340                         pas = 0;
00341                         \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status} = Status::ending;
00342                         QThread::msleep(1000);
00343                         emit \hyperlink{a00009_a3a3adc795d88624f86e13f2525e41106}{statusBar}(\textcolor{stringliteral}{"Col·locada"}, 1500);
00344                         
00345                         \textcolor{keywordflow}{for} (\hyperlink{a00001}{AX12} &\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a} : A) \hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a}.setSpeed(speed);
00346                     \}
00347                 \}
00348             \}   
00349                 \textcolor{keywordflow}{break};
00350                 
00351             \textcolor{keywordflow}{case} Status::ending:
00352                 pos[2] = \hyperlink{a00009_a9ca211d5d711c959689afd7fff5a897a}{descHeigh}[pas];
00353                 
00354                 \textcolor{keywordflow}{if} (this->\hyperlink{a00009_a1d96ca800864243478463b0306ed74d7}{isReady}(S, pos, \hyperlink{a00009_a3ecb7da23afe91883435f239bd08ceb3}{maxErr})) \{
00355                     ++pas;
00356                     \textcolor{keywordflow}{if} (pas == 3) \{
00357                         \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status} = Status::begin;
00358                         \textcolor{keywordflow}{if} (dom == Dom.size() - 1) \{
00359                             dom = 0;
00360                             pas = 0;
00361                             \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} = Mode::Reset;
00362                         \}
00363                         \textcolor{keywordflow}{else} ++dom;
00364                     \}
00365                 \}
00366                 \textcolor{keywordflow}{break};
00367             
00368             \textcolor{keywordflow}{default}:
00369                 \hyperlink{a00009_a8d2299f41165bffe1656df776f7f7528}{\_status} = Status::begin;
00370             
00371             \}
00372         \} 
00373         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} == Mode::Reset) \{
00374             \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} = Mode::Manual;
00375             pos = \hyperlink{a00009_a2f5ebef53b31216cb54235264ba9f8d0}{posIdle};
00376             dom = 0;
00377         \}
00378         
00379         this->\hyperlink{a00009_a61d2ed44bb73cd337aa81963cb0ef858}{setAngles}(pos, D);
00380         this->\hyperlink{a00009_a5271acc6d57f9c8c9a92a032851ca135}{setGoalPosition}(ID, D, dxl);
00381     \}
00382     dxl.terminate();
00383     exit(0);
00384 \}
\end{DoxyCode}
\hypertarget{a00009_a61d2ed44bb73cd337aa81963cb0ef858}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Angles@{set\+Angles}}
\index{set\+Angles@{set\+Angles}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Angles}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Angles (
\begin{DoxyParamCaption}
\item[{const Q\+Vector4\+D \&}]{pos, }
\item[{Q\+Vector$<$ double $>$ \&}]{D}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a61d2ed44bb73cd337aa81963cb0ef858}


Used to calculate the servos angles. 


\begin{DoxyCode}
00387 \{    
00388     \textcolor{keywordtype}{double} x1 = pos.x() + \hyperlink{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} - \hyperlink{a00009_a6281142e50115dd8c914c14cfae6f90d}{L1};
00389     \textcolor{keywordtype}{double} y1 = -pos.z();
00390     \textcolor{keywordtype}{double} z1 = pos.y();
00391     D[0] = \hyperlink{a00009_add4637d917a772c4c01a43b5b66da2be}{singleAngle}(x1,y1,z1);
00392     
00393     \textcolor{keywordtype}{double} x2 = pos.y()*\hyperlink{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60} - pos.x()*\hyperlink{a00009_a86dc58ff23326f939cd6fb610ac90d53}{cos60} + \hyperlink{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} - \hyperlink{a00009_a6281142e50115dd8c914c14cfae6f90d}{L1};
00394     \textcolor{keywordtype}{double} y2 = -pos.z();
00395     \textcolor{keywordtype}{double} z2 = -pos.y()*\hyperlink{a00009_a86dc58ff23326f939cd6fb610ac90d53}{cos60} - pos.x()*\hyperlink{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60};
00396     D[1] = \hyperlink{a00009_add4637d917a772c4c01a43b5b66da2be}{singleAngle}(x2,y2,z2);
00397     
00398     \textcolor{keywordtype}{double} x3 = -pos.y()*\hyperlink{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60} - pos.x()*\hyperlink{a00009_a86dc58ff23326f939cd6fb610ac90d53}{cos60} + \hyperlink{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}{L2} - \hyperlink{a00009_a6281142e50115dd8c914c14cfae6f90d}{L1};
00399     \textcolor{keywordtype}{double} y3 = -pos.z();
00400     \textcolor{keywordtype}{double} z3 = -pos.y()*\hyperlink{a00009_a86dc58ff23326f939cd6fb610ac90d53}{cos60} + pos.x()*\hyperlink{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{sin60};
00401     D[2] = \hyperlink{a00009_add4637d917a772c4c01a43b5b66da2be}{singleAngle}(x3,y3,z3);
00402     
00403     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{double} &d : D) d = 150.0 - d*180/M\_PI;
00404     D[3] = pos.w();
00405 \}
\end{DoxyCode}
\hypertarget{a00009_a8497ea56991b620981ce1fbf53d9ebdb}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Data@{set\+Data}}
\index{set\+Data@{set\+Data}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Data}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Data (
\begin{DoxyParamCaption}
\item[{Q\+Vector$<$ float $>$ \&}]{a\+V, }
\item[{Q\+Vector$<$ bool $>$ \&}]{buts}
\end{DoxyParamCaption}
)}\label{a00009_a8497ea56991b620981ce1fbf53d9ebdb}


Adds the loaded data. 


\begin{DoxyParams}{Parameters}
{\em a\+V} & Contains the axis values \\
\hline
{\em buts} & Contains the buttons values \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00123 \{
00124     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00125     \textcolor{comment}{// Copying the joystick values}
00126     \hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{\_axis} = QVector4D(aV[0], aV[1], aV[2], aV[3]);
00127     \hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{\_axis}.normalize();
00128     \hyperlink{a00009_a4ddc59272c23925f921e20ee630804c2}{\_axis}[3] *= 5;
00129     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < buts.size(); ++i) \hyperlink{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{\_buts}[i] |= buts[i];    
00130     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00131 \}
\end{DoxyCode}
\hypertarget{a00009_a5271acc6d57f9c8c9a92a032851ca135}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Goal\+Position@{set\+Goal\+Position}}
\index{set\+Goal\+Position@{set\+Goal\+Position}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Goal\+Position}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Goal\+Position (
\begin{DoxyParamCaption}
\item[{const Q\+Vector$<$ int $>$ \&}]{I\+D, }
\item[{const Q\+Vector$<$ double $>$ \&}]{pos, }
\item[{{\bf dynamixel} \&}]{dxl}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a5271acc6d57f9c8c9a92a032851ca135}

\begin{DoxyCode}
00409 \{
00410     dxl.\hyperlink{a00004_a84e24c72c3e5be866f8b28c2e5bd1d95}{set\_txpacket\_id}(BROADCAST\_ID);
00411     dxl.\hyperlink{a00004_a209a43f983f214323b6f0a627d5e8c13}{set\_txpacket\_instruction}(INST\_SYNC\_WRITE);
00412     dxl.\hyperlink{a00004_a2c3d31bbbed70a69918e9972a620384b}{set\_txpacket\_parameter}(0, AX12::RAM::GoalPosition);
00413     dxl.\hyperlink{a00004_a2c3d31bbbed70a69918e9972a620384b}{set\_txpacket\_parameter}(1, 2);
00414     
00415     Q\_ASSERT(ID.size() == pos.size());
00416     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < ID.size(); ++i) \{
00417         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} data = (pos[i]/300.0)*1023.0;
00418         
00419         dxl.\hyperlink{a00004_a2c3d31bbbed70a69918e9972a620384b}{set\_txpacket\_parameter}(2 + 3*i, ID[i]);
00420         dxl.\hyperlink{a00004_a2c3d31bbbed70a69918e9972a620384b}{set\_txpacket\_parameter}(2 + 3*i + 1, LOBYTE(data));
00421         dxl.\hyperlink{a00004_a2c3d31bbbed70a69918e9972a620384b}{set\_txpacket\_parameter}(2 + 3*i + 2, HIBYTE(data));
00422     \}
00423     dxl.\hyperlink{a00004_a829278f48e21c810b172eb8cab3b86de}{set\_txpacket\_length}(4 + 3*ID.size());
00424     dxl.\hyperlink{a00004_aebfc569c6b1eb0b98f8c385f0f921fc0}{txrx\_packet}();
00425 \}
\end{DoxyCode}
\hypertarget{a00009_af97b6a355e9278e02fbe8c36e144ed33}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Mode@{set\+Mode}}
\index{set\+Mode@{set\+Mode}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Mode}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Mode (
\begin{DoxyParamCaption}
\item[{{\bf Mode}}]{m}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_af97b6a355e9278e02fbe8c36e144ed33}


Sets the current working mode. 

\begin{DoxyPrecond}{Precondition}
The thread must be on pause 
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em m} & Contains the desired working mode \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00214     \{
00215         QMutexLocker mut(&\hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex});
00216         \textcolor{keywordflow}{if} (!\hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause}) \textcolor{keywordflow}{return};
00217         \hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod} = m;
00218         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00219     \}
\end{DoxyCode}
\hypertarget{a00009_a009d3d1b99007b14fadb49996fac49d6}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Servo\+Baud@{set\+Servo\+Baud}}
\index{set\+Servo\+Baud@{set\+Servo\+Baud}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Servo\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Servo\+Baud (
\begin{DoxyParamCaption}
\item[{unsigned int}]{baud}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a009d3d1b99007b14fadb49996fac49d6}


Sets the servos port baud rate. 


\begin{DoxyParams}{Parameters}
{\em baud} & Positive number containing the baud rate \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00229     \{
00230         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00231         \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} = baud;
00232         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00233         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00234     \}
\end{DoxyCode}
\hypertarget{a00009_a144e31105019d833f59ca2eba012e638}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Servo\+Port@{set\+Servo\+Port}}
\index{set\+Servo\+Port@{set\+Servo\+Port}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Servo\+Port}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Servo\+Port (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{port}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a144e31105019d833f59ca2eba012e638}


Sets the servos port. 


\begin{DoxyParams}{Parameters}
{\em port} & String containing the port name \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00239     \{
00240         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00241         \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} = port;
00242         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00243         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00244     \}
\end{DoxyCode}
\hypertarget{a00009_a76af3e89d1a8705426584bedb0624909}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Servo\+Port\+Info@{set\+Servo\+Port\+Info}}
\index{set\+Servo\+Port\+Info@{set\+Servo\+Port\+Info}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Servo\+Port\+Info}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Servo\+Port\+Info (
\begin{DoxyParamCaption}
\item[{Q\+String \&}]{port, }
\item[{unsigned int}]{baud}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a76af3e89d1a8705426584bedb0624909}


Sets the servos port info, data and selected port. 


\begin{DoxyParams}{Parameters}
{\em port} & String containing the selected port \\
\hline
{\em baud} & Contains the selected baud rate \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00250     \{
00251         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00252         \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} = port;
00253         \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} = baud;
00254         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00255         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00256     \}
\end{DoxyCode}
\hypertarget{a00009_ac3471e5020f5d9babd3f2ff7b3b82aca}{}\index{Servo\+Thread@{Servo\+Thread}!set\+S\+I\+D@{set\+S\+I\+D}}
\index{set\+S\+I\+D@{set\+S\+I\+D}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+S\+I\+D}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+S\+I\+D (
\begin{DoxyParamCaption}
\item[{Q\+Vector$<$ int $>$ \&}]{V}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_ac3471e5020f5d9babd3f2ff7b3b82aca}


Sets the servos I\+D. 


\begin{DoxyParams}{Parameters}
{\em V} & Vector containing all the servos I\+D \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00262     \{
00263         \textcolor{comment}{// Error passing the data}
00264         \textcolor{keywordflow}{if} (V.size() != \hyperlink{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{\_sNum}) \{
00265             qDebug() << \textcolor{stringliteral}{"Error setting servos"};
00266             \textcolor{keywordflow}{return};
00267         \}
00268         
00269         
00270         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();        
00271         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < V.size(); ++i) \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}[i].ID = V[i];
00272         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00273         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00274     \}
\end{DoxyCode}
\hypertarget{a00009_a906ea2c67acbffb3e8dedabc03288992}{}\index{Servo\+Thread@{Servo\+Thread}!set\+Speed@{set\+Speed}}
\index{set\+Speed@{set\+Speed}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{set\+Speed}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::set\+Speed (
\begin{DoxyParamCaption}
\item[{unsigned char}]{speed}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a906ea2c67acbffb3e8dedabc03288992}


Sets the servos speed. 


\begin{DoxyParams}{Parameters}
{\em speed} & unsigned char from 0 to 100 containing the \% of speed \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00279     \{
00280         \textcolor{keywordflow}{if} (speed > 100) speed = 100;
00281         
00282         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00283         \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed} = speed;
00284         \hyperlink{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{\_dChanged} = \textcolor{keyword}{true};
00285         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00286     \}
\end{DoxyCode}
\hypertarget{a00009_add4637d917a772c4c01a43b5b66da2be}{}\index{Servo\+Thread@{Servo\+Thread}!single\+Angle@{single\+Angle}}
\index{single\+Angle@{single\+Angle}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{single\+Angle}]{\setlength{\rightskip}{0pt plus 5cm}double Servo\+Thread\+::single\+Angle (
\begin{DoxyParamCaption}
\item[{double}]{x0, }
\item[{double}]{y0, }
\item[{double}]{z0}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_add4637d917a772c4c01a43b5b66da2be}


Calculates the angle of one servo in the selected position. 


\begin{DoxyCode}
00428 \{
00429     \textcolor{keywordtype}{double} n = \hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b}*\hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b} - \hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a}*\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a} - z0*z0 - x0*x0 - y0*y0;
00430     \textcolor{keywordtype}{double} raiz = sqrt (n*n*y0*y0 - 4*(x0*x0 + y0*y0)*(-x0*x0*\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a}*\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a} + n*n/4));
00431     
00432     \textcolor{keywordflow}{if} (x0 < 0) raiz *= -1;
00433     \textcolor{keywordtype}{double} y = (-n*y0 + raiz ) / (2*(x0*x0 + y0*y0));
00434     
00435     \textcolor{keywordtype}{int} signe = 1;
00436     \textcolor{keywordflow}{if} ((\hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b}*\hyperlink{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{b} - (y0 + \hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a})*(y0 + \hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a})) < (x0*x0 + z0*z0) && x0 < 0) signe *= -1;
00437     \textcolor{keywordtype}{double} x = sqrt(\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a}*\hyperlink{a00009_a7dc3998d380d61406fe4485f9872edff}{a} - y*y)*signe;
00438     \textcolor{keywordflow}{return} atan2 (y,x);
00439 \}
\end{DoxyCode}
\hypertarget{a00009_a3a3adc795d88624f86e13f2525e41106}{}\index{Servo\+Thread@{Servo\+Thread}!status\+Bar@{status\+Bar}}
\index{status\+Bar@{status\+Bar}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{status\+Bar}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::status\+Bar (
\begin{DoxyParamCaption}
\item[{Q\+String}]{, }
\item[{int}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [signal]}}\label{a00009_a3a3adc795d88624f86e13f2525e41106}


Emmitted when the status bar must be changed. 

\hypertarget{a00009_a5f32574f843d76deffec45995028389b}{}\index{Servo\+Thread@{Servo\+Thread}!wake\+Up@{wake\+Up}}
\index{wake\+Up@{wake\+Up}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{wake\+Up}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::wake\+Up (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{a00009_a5f32574f843d76deffec45995028389b}


Continues program\textquotesingle{}s execution. 


\begin{DoxyCode}
00290     \{
00291         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00292         \hyperlink{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{\_pause} = \textcolor{keyword}{false};
00293         \hyperlink{a00009_afcb93c09acd7fecf47d92996a297365c}{\_cond}.wakeOne();
00294         \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00295     \}
\end{DoxyCode}
\hypertarget{a00009_aca68fe85a100a052c4d41f0fa88cc152}{}\index{Servo\+Thread@{Servo\+Thread}!write@{write}}
\index{write@{write}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{write}]{\setlength{\rightskip}{0pt plus 5cm}void Servo\+Thread\+::write (
\begin{DoxyParamCaption}
\item[{Q\+String}]{file}
\end{DoxyParamCaption}
)}\label{a00009_aca68fe85a100a052c4d41f0fa88cc152}


Writes data to the selected directory. 


\begin{DoxyParams}{Parameters}
{\em file} & Path to the file \\
\hline
\end{DoxyParams}

\begin{DoxyCode}
00134 \{
00135     \textcolor{comment}{// Opening file for writing}
00136     QFile f(file);
00137     f.open(QIODevice::WriteOnly);
00138     QDataStream df(&f);
00139     
00140     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.lock();
00141     
00142     \textcolor{comment}{// Clamp and servos baud rate and port must be writen}
00143     df << int(Version::v\_1\_0) << \hyperlink{a00009_a9fccfd415e2e55c8abef7fcc6535af30}{\_cBaud} << \hyperlink{a00009_ab52437b31a433c427a6c050f2b1cc959}{\_cPort} << \hyperlink{a00009_a5b9a41b9e271275b914affb0a845a2ee}{\_sBaud} << 
      \hyperlink{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{\_sPort} << \hyperlink{a00009_a2591c704c80518be7abb1698364cab5e}{\_sSpeed}
00144        << int(\hyperlink{a00009_acdecea1688594d3ab7386a6db97dd90d}{\_mod}) << \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}.size();    
00145     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} Servo &s : \hyperlink{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{\_servos}) df << s.ID;
00146     
00147     \hyperlink{a00009_a6327eafc0dac189ec1b202d63ef32457}{\_mutex}.unlock();
00148 \}
\end{DoxyCode}


\subsubsection{Member Data Documentation}
\hypertarget{a00009_a4ddc59272c23925f921e20ee630804c2}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+axis@{\+\_\+axis}}
\index{\+\_\+axis@{\+\_\+axis}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+axis}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector4\+D Servo\+Thread\+::\+\_\+axis\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a4ddc59272c23925f921e20ee630804c2}


Contains the axis value. 

\hypertarget{a00009_a6f956f7e0f2953e213ff95fb64857ab0}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+buts@{\+\_\+buts}}
\index{\+\_\+buts@{\+\_\+buts}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+buts}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ bool $>$ Servo\+Thread\+::\+\_\+buts\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a6f956f7e0f2953e213ff95fb64857ab0}


Contains the buttons value. 

\hypertarget{a00009_a9fccfd415e2e55c8abef7fcc6535af30}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+c\+Baud@{\+\_\+c\+Baud}}
\index{\+\_\+c\+Baud@{\+\_\+c\+Baud}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+c\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::\+\_\+c\+Baud\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a9fccfd415e2e55c8abef7fcc6535af30}


Contains the baud rate used to comunicate with the clamp. 

\hypertarget{a00009_afcb93c09acd7fecf47d92996a297365c}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+cond@{\+\_\+cond}}
\index{\+\_\+cond@{\+\_\+cond}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+cond}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Wait\+Condition Servo\+Thread\+::\+\_\+cond\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_afcb93c09acd7fecf47d92996a297365c}


To start and pause the thread. 

\hypertarget{a00009_ab52437b31a433c427a6c050f2b1cc959}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+c\+Port@{\+\_\+c\+Port}}
\index{\+\_\+c\+Port@{\+\_\+c\+Port}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+c\+Port}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Servo\+Thread\+::\+\_\+c\+Port\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_ab52437b31a433c427a6c050f2b1cc959}


Contains the selected com port used to comunitate with the clamp. 

\hypertarget{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+d\+Changed@{\+\_\+d\+Changed}}
\index{\+\_\+d\+Changed@{\+\_\+d\+Changed}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+d\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+d\+Changed\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a2b6ccfeacbb3cc9ac5c34549b9aa3f11}


True if the data changes. 

\hypertarget{a00009_ad06a87d9f22914fd2597c939a3eb61cd}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+dominoe@{\+\_\+dominoe}}
\index{\+\_\+dominoe@{\+\_\+dominoe}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+dominoe}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ Q\+Vector$<$ {\bf Dominoe} $>$ $>$ Servo\+Thread\+::\+\_\+dominoe\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_ad06a87d9f22914fd2597c939a3eb61cd}


Contains all the dominoes information. 

\hypertarget{a00009_acca9896d1a2d1ef68527e6834f81c76c}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+end@{\+\_\+end}}
\index{\+\_\+end@{\+\_\+end}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+end}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+end\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_acca9896d1a2d1ef68527e6834f81c76c}


True when we must end executino. 

\hypertarget{a00009_a5a3c1e2c09b76890790458b9d0469714}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+enter@{\+\_\+enter}}
\index{\+\_\+enter@{\+\_\+enter}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+enter}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+enter\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a5a3c1e2c09b76890790458b9d0469714}


True if the enter key is pressed. 

\hypertarget{a00009_acdecea1688594d3ab7386a6db97dd90d}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+mod@{\+\_\+mod}}
\index{\+\_\+mod@{\+\_\+mod}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+mod}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mode} Servo\+Thread\+::\+\_\+mod\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_acdecea1688594d3ab7386a6db97dd90d}


Contains the working mode. 

\hypertarget{a00009_a6327eafc0dac189ec1b202d63ef32457}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+mutex@{\+\_\+mutex}}
\index{\+\_\+mutex@{\+\_\+mutex}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+mutex}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Mutex Servo\+Thread\+::\+\_\+mutex\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a6327eafc0dac189ec1b202d63ef32457}


To prevent memory errors between threads. 

\hypertarget{a00009_aaf2ef80e8e43518b75d20a5102970d2e}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+pause@{\+\_\+pause}}
\index{\+\_\+pause@{\+\_\+pause}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+pause}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+pause\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_aaf2ef80e8e43518b75d20a5102970d2e}


Pauses the execution of the thread. 

\hypertarget{a00009_a6ad7cef9e9ac7454399871260e3693d4}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+pos@{\+\_\+pos}}
\index{\+\_\+pos@{\+\_\+pos}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+pos}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector4\+D Servo\+Thread\+::\+\_\+pos\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a6ad7cef9e9ac7454399871260e3693d4}


Contains the current position to show to the window. 

\hypertarget{a00009_a5b9a41b9e271275b914affb0a845a2ee}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Baud@{\+\_\+s\+Baud}}
\index{\+\_\+s\+Baud@{\+\_\+s\+Baud}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+s\+Baud}]{\setlength{\rightskip}{0pt plus 5cm}int Servo\+Thread\+::\+\_\+s\+Baud\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a5b9a41b9e271275b914affb0a845a2ee}


Contains the used baud rate to comunicate with the servos. 

\hypertarget{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+servos@{\+\_\+servos}}
\index{\+\_\+servos@{\+\_\+servos}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+servos}]{\setlength{\rightskip}{0pt plus 5cm}Q\+Vector$<$ {\bf Servo} $>$ Servo\+Thread\+::\+\_\+servos\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a1ac6662fe6d198b5971ae0ffa7ddfcfd}


Contains the servos information. 

\hypertarget{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Num@{\+\_\+s\+Num}}
\index{\+\_\+s\+Num@{\+\_\+s\+Num}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+s\+Num}]{\setlength{\rightskip}{0pt plus 5cm}const int Servo\+Thread\+::\+\_\+s\+Num = 4\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{a00009_a334e0c5bca9ccb2585cb82bce60ea42f}


Number of servos to manage. 

\hypertarget{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Port@{\+\_\+s\+Port}}
\index{\+\_\+s\+Port@{\+\_\+s\+Port}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+s\+Port}]{\setlength{\rightskip}{0pt plus 5cm}Q\+String Servo\+Thread\+::\+\_\+s\+Port\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_ac9a614aa1518efb49b0a06636bd1bdbf}


Contains the selected com port used in the comunication with servos. 

\hypertarget{a00009_a6e803432db01b10ed975132315280fd3}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Port\+Changed@{\+\_\+s\+Port\+Changed}}
\index{\+\_\+s\+Port\+Changed@{\+\_\+s\+Port\+Changed}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+s\+Port\+Changed}]{\setlength{\rightskip}{0pt plus 5cm}bool Servo\+Thread\+::\+\_\+s\+Port\+Changed\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a6e803432db01b10ed975132315280fd3}


True if the servos port changes. 

\hypertarget{a00009_a2591c704c80518be7abb1698364cab5e}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+s\+Speed@{\+\_\+s\+Speed}}
\index{\+\_\+s\+Speed@{\+\_\+s\+Speed}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+s\+Speed}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int Servo\+Thread\+::\+\_\+s\+Speed\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a2591c704c80518be7abb1698364cab5e}


Speed of the robot. 

\hypertarget{a00009_a8d2299f41165bffe1656df776f7f7528}{}\index{Servo\+Thread@{Servo\+Thread}!\+\_\+status@{\+\_\+status}}
\index{\+\_\+status@{\+\_\+status}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{\+\_\+status}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Status} Servo\+Thread\+::\+\_\+status\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a8d2299f41165bffe1656df776f7f7528}


Current status. 

\hypertarget{a00009_a7dc3998d380d61406fe4485f9872edff}{}\index{Servo\+Thread@{Servo\+Thread}!a@{a}}
\index{a@{a}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{a}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::a = 11.\+6\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a7dc3998d380d61406fe4485f9872edff}


The arm length. 

\hypertarget{a00009_a14f03febaa39a60b9bf7ff9b9151060c}{}\index{Servo\+Thread@{Servo\+Thread}!b@{b}}
\index{b@{b}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{b}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::b = 22.\+648\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a14f03febaa39a60b9bf7ff9b9151060c}


The forearm length. 

\hypertarget{a00009_ac2d1087cd0cc45ef71c77aa20b41ceda}{}\index{Servo\+Thread@{Servo\+Thread}!ccw\+C\+S@{ccw\+C\+S}}
\index{ccw\+C\+S@{ccw\+C\+S}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{ccw\+C\+S}]{\setlength{\rightskip}{0pt plus 5cm}const uchar Servo\+Thread\+::ccw\+C\+S = 2\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_ac2d1087cd0cc45ef71c77aa20b41ceda}


The Counter Clock Wise Compliance Slope. 

\hypertarget{a00009_a86dc58ff23326f939cd6fb610ac90d53}{}\index{Servo\+Thread@{Servo\+Thread}!cos60@{cos60}}
\index{cos60@{cos60}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{cos60}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::cos60 = 0.\+5\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a86dc58ff23326f939cd6fb610ac90d53}


Contains the cosinus of 60. 

\hypertarget{a00009_a67b2528edcaa375aefa1fb4117576665}{}\index{Servo\+Thread@{Servo\+Thread}!cw\+C\+S@{cw\+C\+S}}
\index{cw\+C\+S@{cw\+C\+S}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{cw\+C\+S}]{\setlength{\rightskip}{0pt plus 5cm}const uchar Servo\+Thread\+::cw\+C\+S = 2\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a67b2528edcaa375aefa1fb4117576665}


The Clock Wise Compliance Slope. 

\hypertarget{a00009_a9ca211d5d711c959689afd7fff5a897a}{}\index{Servo\+Thread@{Servo\+Thread}!desc\+Heigh@{desc\+Heigh}}
\index{desc\+Heigh@{desc\+Heigh}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{desc\+Heigh}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::desc\+Heigh\mbox{[}3\mbox{]} = \{ 23.\+0, 22.\+7, 22.\+3 \}\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a9ca211d5d711c959689afd7fff5a897a}


Descent height. 

\hypertarget{a00009_aee236c1b7ec8fb4c35d7930d9393f643}{}\index{Servo\+Thread@{Servo\+Thread}!idle\+Heigh@{idle\+Heigh}}
\index{idle\+Heigh@{idle\+Heigh}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{idle\+Heigh}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::idle\+Heigh = 22.\+0\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_aee236c1b7ec8fb4c35d7930d9393f643}


Idle heigh. 

\hypertarget{a00009_a6281142e50115dd8c914c14cfae6f90d}{}\index{Servo\+Thread@{Servo\+Thread}!L1@{L1}}
\index{L1@{L1}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{L1}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::\+L1 = 5.\+499\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a6281142e50115dd8c914c14cfae6f90d}


The base center length. 

\hypertarget{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}{}\index{Servo\+Thread@{Servo\+Thread}!L2@{L2}}
\index{L2@{L2}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{L2}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::\+L2 = 6.\+000\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a3d51c16b1f498b48a6ecbfaadaba6ed2}


The clamp support center lenght. 

\hypertarget{a00009_a77cc2aed4eff12967e346cb64f6be192}{}\index{Servo\+Thread@{Servo\+Thread}!max\+Angle@{max\+Angle}}
\index{max\+Angle@{max\+Angle}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{max\+Angle}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::max\+Angle = 240.\+0\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a77cc2aed4eff12967e346cb64f6be192}


Maximum servo angle. 

\hypertarget{a00009_a3ecb7da23afe91883435f239bd08ceb3}{}\index{Servo\+Thread@{Servo\+Thread}!max\+Err@{max\+Err}}
\index{max\+Err@{max\+Err}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{max\+Err}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::max\+Err = 3.\+0\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a3ecb7da23afe91883435f239bd08ceb3}


Max available error. 

\hypertarget{a00009_a9af4e0214b1b5c64978bbef49cde6d3c}{}\index{Servo\+Thread@{Servo\+Thread}!min\+Angle@{min\+Angle}}
\index{min\+Angle@{min\+Angle}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{min\+Angle}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::min\+Angle = 60.\+0\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a9af4e0214b1b5c64978bbef49cde6d3c}


Minimum servo angle. 

\hypertarget{a00009_a2f5ebef53b31216cb54235264ba9f8d0}{}\index{Servo\+Thread@{Servo\+Thread}!pos\+Idle@{pos\+Idle}}
\index{pos\+Idle@{pos\+Idle}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{pos\+Idle}]{\setlength{\rightskip}{0pt plus 5cm}const Q\+Vector4\+D Servo\+Thread\+::pos\+Idle = Q\+Vector4\+D(0.\+0f, 0.\+0f, idle\+Heigh, 150)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a2f5ebef53b31216cb54235264ba9f8d0}


Idle position. 

\hypertarget{a00009_a67cca86496c9826987f2c543adf788be}{}\index{Servo\+Thread@{Servo\+Thread}!pos\+Start@{pos\+Start}}
\index{pos\+Start@{pos\+Start}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{pos\+Start}]{\setlength{\rightskip}{0pt plus 5cm}const Q\+Vector4\+D Servo\+Thread\+::pos\+Start = Q\+Vector4\+D(11.\+5, 0.\+0f, idle\+Heigh, 150)\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a67cca86496c9826987f2c543adf788be}


Starting position for the controlled mode. 

\hypertarget{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}{}\index{Servo\+Thread@{Servo\+Thread}!sin60@{sin60}}
\index{sin60@{sin60}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{sin60}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::sin60 = sqrt(3)/2\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_aaa3e2dd194949b12f8a41ebd0d62fde9}


Contains the sinus of 60. 

\hypertarget{a00009_a53758fdbbee450ab4cd5a3432725f056}{}\index{Servo\+Thread@{Servo\+Thread}!work\+Heigh@{work\+Heigh}}
\index{work\+Heigh@{work\+Heigh}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{work\+Heigh}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::work\+Heigh = 23.\+3\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a53758fdbbee450ab4cd5a3432725f056}


Working heigh. 

\hypertarget{a00009_a4b9e5de00a02c6f77e4308ed209f0cc0}{}\index{Servo\+Thread@{Servo\+Thread}!work\+Rad\+Sq@{work\+Rad\+Sq}}
\index{work\+Rad\+Sq@{work\+Rad\+Sq}!Servo\+Thread@{Servo\+Thread}}
\paragraph[{work\+Rad\+Sq}]{\setlength{\rightskip}{0pt plus 5cm}const double Servo\+Thread\+::work\+Rad\+Sq = 144.\+0\hspace{0.3cm}{\ttfamily [private]}}\label{a00009_a4b9e5de00a02c6f77e4308ed209f0cc0}


Working radius squared. 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{a00024}{servothread.\+h}\item 
\hyperlink{a00023}{servothread.\+cpp}\end{DoxyCompactItemize}
